{"time":"0002","tplId":"QUICKPAY@select-country-and-area-enhance-flex","publishVersion":"150924","tag":"QUICKPAY","name":"select-country-and-area-enhance-flex","data":{"tag":"html","children":[{"tag":"head","children":[{"tag":"meta","src":"AlipaySDK.bundle/amc.i18n","type":"i18n"},{"tag":"link","rel":"stylesheet","href":"AlipaySDK.bundle/amc.css"},{"tag":"script","src":"AlipaySDK.bundle/amc.js"},{"tag":"script","children":[{"text":"var getTag=amc.fn.getById;var create=amc.fn.create;var bodyHeight=0;var indexArray=new Array();var indexHeightArray=new Array();var indexHeight=amc.isPlus?24:18;var headerHeight=amc.isPlus?30:22;var cellHeight=amc.isPlus?56:43;var lineHeight=amc.isPlus?0.33:0.5;var maxCellWidth=window.innerWidth-80;var isTouchHold=false;function init(){try{initUI();if(amc.fn.logPageInit){amc.fn.logPageInit(true)}}catch(a){if(amc.fn.logPageInit){amc.fn.logPageInit()}}}function initUI(){var e=amc.fn.getNav(amc.res.navBack,\"{{return}}\",\"{{sel_country_area}}\",null,null,onBack,null);e.id=\"nav\";getTag(\"body\").insertBefore(e,getTag(\"mainBox\"));if(flybird.rpcData.countries){for(var b=0;b<flybird.rpcData.countries.length;b++){createItem(flybird.rpcData.countries[b])}var d=getTag(\"mainIndex\");for(var b=0;b<indexArray.length;b++){var a=create(\"div\");a.className=\"amc-index-box\";d.appendChild(a);var c=create(\"label\");c.className=\"amc-index-label amc-theme-color\";c.innerText=indexArray[b]||\"\";a.appendChild(c);(function(){var f=b;c.onclick=function(){scrollToIndex(f)}})()}offsetTop=(amc.specs.bodyHeight-indexArray.length*indexHeight)/2;if(!amc.isIOS){offsetTop+=amc.specs.navHeight}getTag(\"mainBody\").style.height=amc.specs.bodyHeight;getTag(\"mainIndex\").style.height=(indexHeight*indexArray.length)}}function scrollToIndex(a){if(a>=0&&a<indexArray.length){getTag(\"mainBody\").scrollTop=indexHeightArray[a]}}var offsetTop=0;function touchDown(){var b=event.y;b-=offsetTop;var a=Math.floor(b/indexHeight);scrollToIndex(a);isTouchHold=true}function touchUp(){isTouchHold=false}function touchMove(){if(isTouchHold){var b=event.y;b-=offsetTop;var a=Math.floor(b/indexHeight);scrollToIndex(a)}}function createItem(h){var b=getTag(\"listBox\");indexHeightArray.push(bodyHeight);var a=create(\"div\");a.className=\"amc-list-header-h\";b.appendChild(a);var g=create(\"label\");g.className=\"amc-font-m amc-text-light-color\";g.innerText=h.label||\"\";a.appendChild(g);bodyHeight+=headerHeight;for(var e=0;e<h.countries.length;e++){var j=create(\"div\");j.className=\"amc-cell amc-pd-lr\";b.appendChild(j);var c=h.countries[e];j.value=c.name+\"|\"+c.areaCode;j.onclick=function(){var n={};n.action={};n.action[\"name\"]=\"loc:reload;loc:back\";n.action[\"l2rmode\"]=\"1\";var m={};var i=event.currentTarget.value;var o=i.split(\"|\");m.country=o[0];m.areaCode=o[1];m.userIdLdc=\"otherAccount\";n.param=m;document.submit(n)};var d=create(\"label\");d.className=\"amc-font-m amc-ellipsis\";d.innerText=h.countries[e].name||\"\";d.style.maxWidth=maxCellWidth;j.appendChild(d);var k=create(\"div\");k.className=\"amc-v-box-center\";j.appendChild(k);var f=create(\"label\");f.className=\"amc-font-m\";f.innerText=h.countries[e].areaCode||\"\";j.appendChild(f);bodyHeight+=cellHeight;if(e<h.countries.length-1){var l=create(\"div\");l.className=\"amc-1px-line amc-margin-lf\";b.appendChild(l);bodyHeight+=lineHeight}}indexArray.push(h.label)}function onBack(){amc.fn.back()}function onKeyDown(){if(event.which==4){onBack()}};","tag":"text"}]},{"tag":"style","children":[{"text":".amc-nav-r-box {\n    display: none;\n}","tag":"text"}]}]},{"id":"body","style":"overflow:hidden;","onload":"init()","tag":"body","children":[{"id":"mainBox","tag":"div","children":[{"id":"mainBody","tag":"div","children":[{"id":"listBox","tag":"div","css":"amc-v-box"},{"tag":"div","css":"amc-iphone-x-pd-b"}],"css":"amc-scroll-flex"},{"id":"mainIndex","onmousemove":"touchMove()","tag":"div","onmouseup":"touchUp()","onmousedown":"touchDown()","css":"amc-index-container"}],"css":"amc-align-center"}],"onkeydown":"onKeyDown();","css":"amc-body amc-bg-white"}]},"format":"JSON","tplVersion":"5.2.4"}