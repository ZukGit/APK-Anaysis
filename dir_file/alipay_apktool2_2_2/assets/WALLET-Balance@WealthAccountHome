{"time":"0003","tplId":"WALLET-Balance@WealthAccountHome","publishVersion":"150603","tag":"WALLET-Balance","name":"WealthAccountHome","data":{"tag":"html","children":[{"tag":"head","children":[{"content":"text/html; charset=UTF-8","tag":"meta","http-equiv":"Content-Type"},{"tag":"meta","src":"android-phone-wallet-balance/locale.i18n","type":"i18n"},{},{"tag":"meta","src":"WealthAccount.bundle/locale.i18n","type":"i18n"},{"content":"spmId:a210.b2140;bizType:AccountBalance;","tag":"meta","type":"bizData"},{"tag":"style","children":[{"text":":root {\n            --bottom-extern-link-height: 49px;\n        }\n        \n        @media (platform: iOS) and (support: safeAreaInsets) {\n            --bottom-extern-link-height: 117px;\n        }\n        \n        body, div {\n            display: flex;\n        }\n\n        body, html {\n            width: 100%;\n        }\n\n        .myBody {\n            flex: 1;\n            padding: 0;\n            margin: 0;\n            height: 100%;\n            background-color: #f5f5f9;\n            flex-direction: column;\n            display: none;\n        }\n\n        .content-wrap {\n            display: flex;\n            height: 100%;\n            flex-direction: column;\n        }\n\n        .bottom-extern-link {\n            height: var(--bottom-extern-link-height);\n            align-items: center;\n            justify-content: center;\n        }\n\n        .content {\n            overflow: scroll;\n            flex: 1;\n            flex-direction: column;\n        }\n\n        .container {\n            flex-direction: column;\n            width: 100%;\n            background-color: #fff;\n            display: none;\n        }\n\n        .ad{\n            flex-direction: column;\n            width: 100%;\n        }\n\n        .nav-right {\n            font-size: 17px;\n            color: #fff;\n            display: none;\n        }\n\n        .header {\n            padding: 26px 5px 0 16px;\n            height: 169px;\n            width: 100%;\n            background-color: #1B82D2;\n            flex-direction: column;\n            display: none;\n            \n        }\n\n        .h-header {\n            flex-direction: row;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n\n        .account {\n            font-size: 14px;\n            color: #fff;\n            \n            -webkit-line-clamp:1;\n            opacity: 0.7;\n        }\n\n        .help {\n            width: 32px;\n            height: 32px;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .circle-help-highlight {\n            border: none;\n            height: 16px;\n            width: 16px;\n            border-radius: 8px;\n            background-image: url(WealthAccount.bundle/help_white);\n        }\n\n        .circle-help {\n            border: none;\n            height: 16px;\n            width: 16px;\n            border-radius: 8px;\n            background-image: url(WealthAccount.bundle/help_grey);\n        }\n\n        .circle-help-highlight-android {\n            border: none;\n            height: 16px;\n            width: 16px;\n            border-radius: 8px;\n            background-image: url(android-phone-wallet-balance/com.alipay.android.phone.wealth.banlance/help);\n        }\n\n        .circle-help-android {\n            border: none;\n            height: 16px;\n            width: 16px;\n            border-radius: 8px;\n            background-image: url(android-phone-wallet-balance/com.alipay.android.phone.wealth.banlance/help_grey);\n        }\n\n        .money {\n            flex: 1;\n            font-size: 72px;\n            -webkit-line-clamp:1;\n            white-space: nowrap;\n            font-auto-adjust: true;\n            color: #fff;\n        }\n\n        .quota-info {\n            flex-direction: column;\n            background-color: #3e7ccb;\n            display: none;\n        }\n\n        .explain-text {\n            font-size: 13px;\n            line-height: 18px;\n            flex: 1;\n            color: #888;\n        }\n\n        .list {\n            flex-direction: column;\n            width: 100%;\n        }\n\n        .list-item {\n            height: 45px;\n            align-items: center;\n            margin-left: 16px;\n            margin-right: 16px;\n        }\n\n        .list-item-icon {\n            margin-right: 10px;\n            height: 21px;\n            width: 21px;\n        }\n\n        .list-item-text {\n            font-size: 17px;\n        }\n\n        \n        .level {\n            flex-direction: row;\n            align-items: center;\n            font-size: 13px;\n            height: 40px;\n            margin-left: 16px;\n        }\n\n        .amount-left {\n            align-items: center;\n            color: #ffd000;\n            font-size: 14px;\n            flex-wrap: wrap;\n            flex: 1;\n            font-auto-adjust:true;\n        }\n\n        .upgrade-detail {\n            flex-direction: row;\n            justify-content: flex-end;\n            align-items: center;\n            padding: 16px;\n            width: 120px;\n        }\n\n        .upgrade-detail-label {\n            border: none;\n            margin: 4px 6px;\n            height: 17px;\n            background-color: #3e7ccb;\n            color: #fff;\n            width: 61px;\n            font-size: 14px;\n        }\n\n        .upgrade-arrow {\n            width: 13px;\n            height: 13px;\n        }\n\n        .list-item-arrow {\n            width: 8px;\n            height: 14px;\n            \n        }\n\n        .level-line {\n            height: 1px;\n            background-color: #efefef;\n        }\n\n        \n        .guide-circle {\n            border-radius: 8px;\n            height: 16px;\n            width: 16px;\n            background-color: #fff;\n        }\n\n        .guide-line2px {\n            width: 2px;\n            flex: 1.0;\n            background-color: #108ee9;\n        }\n\n        .blue-color {\n            background-color: #108ee9;\n        }\n\n        .grey-color {\n            background-color: #ccc;\n        }\n\n        .explain-header {\n            font-size: 17px;\n            font-weight: bold;\n            color: #333;\n            margin: 11px 0px 5px 0px;\n        }\n\n        \n        .quota-container {\n            flex-direction: column;\n            margin: 20px 15px 10px 15px;\n            display: none;\n        }\n\n        .quota-listitem {\n            flex-direction: row;\n        }\n\n        .quota-listitem-icon {\n            width: 16px;\n            flex-direction: column;\n            height: 71px;\n            max-height: 71px;\n            margin-right: 10px;\n            align-items: center;\n        }\n\n        \n        \n        \n        \n        \n        \n\n        .quota-listitem-button {\n            width: 65px;\n            height: 25px;\n        }\n\n\n        .quota-listitem-text {\n            flex-direction: column;\n            height: 71px;\n            max-height: 71px;\n            flex: 1;\n        }\n\n        \n        \n        \n\n        .quota-text-title {\n            font-size: 14px;\n            color: #108ee9;\n            margin-bottom: 4px;\n        }\n\n        .quota-text-second {\n            font-size: 12px;\n            color: #f96268;\n            margin-bottom: 4px;\n        }\n\n        .quota-text-third {\n            font-size: 12px;\n            color: #ccc;\n            margin-bottom: 4px;\n        }\n\n        .quota-update-button {\n            border: none;\n            border-radius: 2px;\n            width: 65px;\n            height: 23px;\n            text-align: center;\n            color: #fff;\n            background-color: #108ee9;\n            font-size: 12px;\n        }\n\n        .margin-bottom-25 {\n            margin-bottom: 25px;\n        }\n\n        .error-content {\n            flex-direction: column;\n            width: 100%;\n            height: 100%;\n            background-color: #f5f5f9;\n            display: none;\n        }\n\n        .error-img-container {\n            width: 100%;\n            margin-top: 100px;\n            flex-direction: column;\n            align-items: center;\n        }\n\n        .error-img {\n            width: 135px;\n            height: 135px;\n            margin-bottom: 25px;\n\n        }\n\n        .error-text {\n            text-align: center;\n            color: #888;\n            font-size: 16px;;\n            line-height: 21px;\n        }\n\n        .error-button {\n            border: none;\n            margin: 38px 15px 40px 15px;\n            height: 42px;\n            background-color: #108ee9;\n            border-radius: 5px;\n            color: #fff;\n            font-size: 18px;\n        }\n\n        \n        .u-list-header {\n            font-size: 14px;\n            margin: 20px 16px;\n        }\n\n        .u-list-item {\n            height: 32px;\n            padding-left: 16px;\n            padding-right: 16px;\n            flex-flow: row;\n            align-items: center;\n        }\n\n        .u-list-icon {\n            width: 21px;\n            height: 16px;\n        }\n\n        .u-list-text {\n            margin-left: 13px;\n            font-size: 18px;\n        }\n\n        .template-content {\n            padding: 20px 16px 0 15px;\n            flex-direction: column;\n        }\n\n        .explain {\n            flex: 1;\n            font-size: 13px;\n        }\n\n        .button {\n            border: none;\n            margin-top: 20px;\n            margin-bottom: 20px;\n            height: 42px;\n            background-color: #108ee9;\n            border-radius: 5px;\n            color: #ffffff;\n            font-size: 18px;\n            \n        }\n\n        \n        .c-content {\n            padding: 0 16px 0 15px;\n            flex-direction: column;\n        }\n        .row {\n            flex-direction: row;\n            justify-content: flex-start;\n        }\n\n        .limit-explain {\n            font-size: 13px;\n            flex: 1;\n            color: #888;\n        }\n\n        .limit-explain-icon {\n            width: 14px;\n            height: 14px;\n            margin-top: 3px;\n            margin-right: 3px;\n        }\n\n        .limit-button {\n            border: none;\n            height: 42px;\n            background-color: #108ee9;\n            border-radius: 4px;\n            color: #ffffff;\n            font-size: 18px;\n            margin: 20px 0;\n        }\n\n        .list-background-color {\n            background-color: #f5f5f9;\n        }\n\n        .list-space-height {\n            height: 20px;\n        }\n\n        .countdown-text {\n            font-size: 13px;\n            font-weight: bold;\n        }\n\n        .countdown-bg {\n            background-color: #e4eaf4;\n            width: 52px;\n            height: 34px;\n            border-radius: 2px;\n        }\n\n        .countdown-inner-bg {\n            width: 26px;\n            height: 34px;\n        }\n\n        .countdown-img {\n            width: 22px;\n            height: 28px;\n            position: absolute;\n            top: 3px;\n        }\n\n        .countdown-img-left {\n            left: 3px;\n        }\n\n        .countdown-img-right {\n            left: 1px;\n        }\n\n        .countdown-num {\n            font-size: 20px;\n            text-align: center;\n            font-weight: bold;\n        }\n\n        .countdown-color {\n            color: #5d91e8;\n        }\n\n        .margin-vertical20px {\n            margin: 20px 0 15px 0;\n        }\n\n        .padding-horizontal {\n            padding: 0 3px 0 3px;\n        }\n\n        .align-center {\n            align-items: center;\n        }","tag":"text"}],"type":"text/css"},{"tag":"script","children":[{"text":"window.$ = function (id) {\n            return document.getElementById(id);\n        };\n        window.$$ = function (sel) {\n            return document.querySelectorAll(sel);\n        };\n\n        var WealthAccount_bundle = \"WealthAccount.bundle/\";//适配\n        var UICommon_bundle = \"APCommonUI.bundle/\";\n        var tableArrowResource = UICommon_bundle + \"Tables_Arrow\";\n\n        var dropdown = WealthAccount_bundle + \"dropdown\";\n        var foldup = undefined;\n        if (document.platform == \"android\") {\n\n            WealthAccount_bundle = \"android-phone-wallet-balance/com.alipay.android.phone.wealth.banlance/\";\n            UICommon_bundle = \"android-phone-wallet-balance/com.alipay.android.phone.wealth.banlance/\";\n            tableArrowResource = \"android-phone-mobilecommon-ui/com.alipay.mobile.ui/table_arrow\";\n\n            dropdown = WealthAccount_bundle + \"dropdown\" ;\n            foldup = WealthAccount_bundle + \"foldup\" ;\n        }\n\n        document.getElementById('id_img_loan').src = WealthAccount_bundle + \"icon_loan\";\n\n        // 模版\n        var TEMPLATE_I = \"I\";\n        var TEMPLATE_N = \"N\";\n        var TEMPLATE_C = \"C\";\n        var TEMPLATE_L = \"L\";\n        var TEMPLATE_O = \"O\";\n\n        // scheme\n        DETAILLIST_URL = \"alipays://platformapi/startapp?appId=20000019&path=detaillist\"; // 收支明细\n\n        var robot_url = undefined;\n\n        // 额度提升模块是否展示\n        var shouldShowQuotaDetail = false;\n        var everCloseQuotaDetail = true;\n        var hasSetupView = false;\n\n        var init = function () {\n\n            // 缓存需要反复用到的节点\n            window.Node = {\n\n                body: $$(\".myBody\")[0],\n                contentWrap: $(\"J-content-wrap\"),\n                content: $(\"J-content\"),\n                errorContent:$(\"J-error-content\"),\n\n                templateN: $(\"template-N\"),\n                templateU: $(\"template-U\"),\n                templateI: $(\"template-I\"),\n                templateC: $(\"template-C\"),\n                templateL: $(\"template-L\"),\n                templateO: $(\"template-O\"),\n\n                accountHeader: $(\"J-header\"),       // 头部\n                accountTitle: $(\"J-account-title\"), // 头部的标题\n                accountMoney: $(\"J-account-money\"), // 头部的金额\n                helpButton: $(\"J-help\"), // 智能客服\n\n                YuEBaoNode: $(\"j-yuebao\"),  // 跳转余额宝余利宝\n                YuEBaoTitle: $(\"j-yuebao-title\"),\n                YuEBaoButton: $(\"j-yuebao-button\"),\n                YuEBaoButtonTitle: $(\"j-yuebao-button-title\"),\n                bottomHelpDiv: $(\"id_bottom_div_help\"), // 常见问题div\n\n                // 冻结金额\n                freezeDiv: $(\"freezeDiv\"),\n                freezeLabel: $(\"freezeLabel\"),\n                freezeLink: $(\"freezeLink\"),\n                freezeCoreDiv: $(\"freezeCoreDiv\"),\n            };\n\n            window.ViewsTemplateN = {\n                quotaContainer: $(\"J-N-quota\"),  // 当前额度模块\n                amountLeftLabel: $(\"J-amount-left\"),   // 当前额度Label\n                detailLabel: $(\"J-detail-label\"),  // 详情按钮\n                quotaDetailArrow: $(\"J-upgrade-arrow\"),\n\n                quotaDetailContainer: $(\"J-N-quota-container\"), // 额度提升模块\n                explainLable: $(\"J-N-explain\"),\n                quotaListView: $(\"J-N-quota-list\"),\n            };\n\n            loadCacheData();\n        };\n\n        document.viewWillAppear = function () {\n\n            loadData();\n        };\n\n        var loadData = function () {\n\n            if (hasSetupView) {\n\n                document.invoke(\"showProgress\", {\"titleLoading\" : true});\n            } else {\n\n                document.invoke(\"showProgress\");\n            }\n            document.invoke('rpc', {\n\n                \"operationType\": \"alipay.wealth.account.home\",\n                \"requestData\": [{}]\n            }, function (rsp) {\n\n                document.invoke(\"hideProgress\");\n                if (rsp.success) {\n\n                    // 请求成功,网关结果\n                    var bizResult = rsp.result;\n                    if (bizResult.success) {\n\n                        setupView(bizResult);\n                        // 缓存数据\n                        document.setProp(\"userPreferences\", {\n\n                            \"key\" : \"WealthAccountHome\",\n                            \"business\": \"WealthAccount\",\n                            \"data\" : bizResult\n                        });\n                        print(\"set loadCacheData\", JSON.stringify(bizResult));\n                    } else {\n\n                        showRequestError(true, bizResult.resultView);\n                    }\n                } else {\n                    // iOS的已经交给框架处理，只处理android的网关失败\n                    if (document.platform == \"android\") {\n                        showRequestError(false, \"{{网络无法连接}}\");\n                    }\n                }\n            });\n        };\n\n        var setupView = function(bizResult) {\n\n            Node.body.style.display = \"flex\";\n            Node.body.style.backgroundColor = \"#f5f5f9\";\n            Node.content.style.display = 'flex';\n            Node.contentWrap.style.display = 'flex';\n            Node.errorContent.style.display = 'none';\n            if (bizResult.tipInfo && bizResult.tipInfo.tipText) {\n                Node.YuEBaoNode.style.display = 'flex';\n                Node.YuEBaoTitle.innerText = bizResult.tipInfo.tipText;\n                if (bizResult.tipInfo.buttonText && bizResult.tipInfo.buttonText != \"\") {\n                    Node.YuEBaoButton.style.display = '';\n                    Node.YuEBaoButton.onclick = function () {\n                        gotoYuebaoOrYulibaoPage(bizResult.tipInfo.tipType, bizResult.tipInfo.buttonUrl);\n                    };\n                    Node.YuEBaoButtonTitle.innerText = bizResult.tipInfo.buttonText;\n                } else {\n                    Node.YuEBaoButton.style.display = 'none';\n                }\n            } else {\n                Node.YuEBaoNode.style.display = 'none';\n            }\n\n            if ((typeof(bizResult.freezeAmount) != \"undefined\") && bizResult.freezeAmount.length > 0) {\n                Node.freezeDiv.style.display = 'flex';\n                Node.freezeLabel.innerText = bizResult.freezeAmount;\n            }\n            else {\n                Node.freezeDiv.style.display = 'none';\n            }\n\n            if ((typeof(bizResult.freezeAmountUrl) != \"undefined\") && bizResult.freezeAmountUrl.length > 0) {\n                Node.freezeLink.style.display = 'flex';\n                Node.freezeCoreDiv.onclick = function() {\n\n                    document.invoke(\"log\", {\n                        \"actionId\": \"clicked\",\n                        \"extParams\": {},\n                        \"appId\": \"20000019\",\n                        \"seed\": \"a210.b2140.c4723.d7412\",\n                        \"bizType\": \"AccountBalance\",\n                    }, function(rsp) {\n                    });\n\n                    document.openURL(bizResult.freezeAmountUrl);\n                }\n            }\n            else {\n                Node.freezeLink.style.display = 'none';\n                Node.freezeCoreDiv.onclick = function() {}\n            }\n\n            hasSetupView = true;\n\n            showNavDetailButton(bizResult.styleTemplate);\n\n            if (bizResult.styleTemplate == TEMPLATE_N) {\n\n                updateViewTempalteN(bizResult);\n            } else if (bizResult.styleTemplate == TEMPLATE_I) {\n\n                Node.body.style.backgroundColor = \"#fff\";\n                if (parseFloat(bizResult.availableAmount, 2) === 0.00) {\n\n                    updateViewTemplateU(bizResult);\n                } else {\n\n                    updateViewTemplateI(bizResult);\n                }\n            } else if (bizResult.styleTemplate == TEMPLATE_C) {\n\n                updateViewTemplateC(bizResult);\n            } else if (bizResult.styleTemplate == TEMPLATE_L) {\n\n                updateViewTemplateL(bizResult);\n            } else if (bizResult.styleTemplate == TEMPLATE_O) {\n\n                updateViewTemplateO(bizResult);\n            }\n\n            // 性能埋点，开始已经埋在startLaunch那里了\n            document.invoke(\"log\", {\n                \"state\":\"end\",\n                \"name\":\"LINK_BALANCE\",\n                \"phase\":\"PHASE_BALANCE_LAUNCH\"\n            });\n            document.invoke(\"log\", {\n                \"state\":\"commit\",\n                \"name\":\"LINK_BALANCE\",\n                \"phase\":\"PHASE_BALANCE_LAUNCH\"\n            });\n        };\n\n        var updateHeaderView = function (bizResult, shouldHighlight) {\n\n            Node.accountHeader.style.display = \"flex\";\n\n            var helpImage = $(\"J-help-image\");\n            if (document.platform == \"android\") {\n\n                helpImage.className = \"circle-help-highlight-android\";\n            }\n\n            if (!shouldHighlight) {\n\n                Node.accountHeader.style.backgroundColor = \"#cacaca\";\n                Node.accountTitle.style.color = \"#a0a0a0\";\n                Node.accountMoney.style.color = \"#b6b6b6\";\n\n                helpImage.className = \"circle-help\";\n                if (document.platform == \"android\") {\n\n                    helpImage.className = \"circle-help-android\";\n                }\n            }\n\n            Node.accountTitle.innerText = bizResult.balanceTitle;\n            Node.accountMoney.innerText = bizResult.availableAmount;\n\n            Node.helpButton.style.display = 'none'; // 帮助按钮移动到底部，完全隐藏\n\n            if(bizResult.extendInfos && bizResult.extendInfos.helpHidden == \"true\"){//隐藏帮助按钮 2016-08-23\n                Node.bottomHelpDiv.style.display = 'none';\n            }else{\n                Node.bottomHelpDiv.style.display = 'flex';\n                Node.bottomHelpDiv.onclick = function () {\n                    document.openURL(\"alipays://platformapi/startapp?appId=20000691&url=%2Fwww%2Fsrc%2Findex.html%3Fscene%3Dapp_zhyey\");\n                };\n            }\n        };\n\n        // 模版N,非银等级(L1、L2和L3)\n        var updateViewTempalteN = function (bizResult) {\n\n            Node.templateN.style.display = \"flex\";\n            Node.templateU.style.display = \"none\";\n            Node.templateI.style.display = \"none\";\n            Node.templateC.style.display = \"none\";\n            Node.templateL.style.display = \"none\";\n            Node.templateO.style.display = \"none\";\n\n\n            if (bizResult.quotaInfo && bizResult.quotaInfo.quotaSubInfo) {\n\n                robot_url = bizResult.quotaInfo.quotaSubInfo.superviseLink;\n            }\n            updateHeaderView(bizResult, true);\n\n            // 充值\\提现\n            updateApp(bizResult);\n\n            // 动态扩展app\n            var extendApps = bizResult.extendApps;\n            var listView = $(\"J-N-extend-apps\");\n            listView.innerHTML = \"\";\n            createAppListView(listView, extendApps);\n\n            // 没有余额等级\n            var quotaInfo = bizResult.quotaInfo;\n            if (!quotaInfo) return;\n\n            ViewsTemplateN.quotaDetailArrow.src = dropdown;\n            // 如果用户曾手动关闭额度升级模块,则不展开\n            everCloseQuotaDetail = document.getProp(\"userPreferences\", {\n\n                \"key\": \"kEverCloseQuota\",\n                \"business\": \"WealthAccount\"\n            });\n\n            // android鸟巢,无缓存时,返回字符串0\n            print(\"everCloseQuotaDetail\", everCloseQuotaDetail);\n            if (!everCloseQuotaDetail || everCloseQuotaDetail == '0') {\n                everCloseQuotaDetail = null;\n                shouldShowQuotaDetail = true;\n                showArrow();\n            }\n\n            if(bizResult.extendInfos && bizResult.extendInfos.gradeHidden == \"true\"){//判断隐藏级别信息 2016-08-23\n                ViewsTemplateN.quotaContainer.style.display = \"none\";\n                showArrow();\n            }else{\n                updateQuotaInfoView(quotaInfo);\n            }\n\n            var remainAccount = bizResult.remainAmount;\n            // 剩余余额为0,强行展开额度提升模块\n            if (parseFloat(remainAccount, 2) === 0.00) {\n                shouldShowQuotaDetail = true;\n                showArrow();\n            }\n\n\n            // 监管说明\n            var explain = quotaInfo.quotaSubInfo.supervise;\n            var moreLink = quotaInfo.quotaSubInfo.superviseLink;\n            ViewsTemplateN.explainLable.innerText = moreLink ? explain + '<a color = \"#108ee9\" href=\"' + moreLink + '\">{{了解更多}}</a>' : explain;\n\n            // 额度提升模块\n            ViewsTemplateN.quotaListView.innerHTML = \"\";  // 不支持removeChild,用此删除全部child节点\n            createQuotaUpgradeView(ViewsTemplateN.quotaListView, quotaInfo.quotaSubInfo.quotaDetails, bizResult.buttonInfo);\n        };\n\n        // 额度说明\n        var updateQuotaInfoView = function (quotaInfo) {\n\n            if (quotaInfo.leftText && quotaInfo.leftText.length > 0 &&\n                    quotaInfo.rightText && quotaInfo.rightText.length > 0) {\n\n                ViewsTemplateN.quotaContainer.style.display = 'flex';\n                ViewsTemplateN.amountLeftLabel.innerText = quotaInfo.leftText;\n                ViewsTemplateN.detailLabel.innerText = quotaInfo.rightText;\n\n                $(\"J-details\").onclick = (function () {\n\n                    return function () {\n\n                        if (!everCloseQuotaDetail) {\n\n                            // data,只能是json\n                            document.setProp(\"userPreferences\", {\n                                \"key\": \"kEverCloseQuota\",\n                                \"business\": \"WealthAccount\",\n                                \"data\": {\"kEverCloseQuota\" : true}\n                            });\n                        }\n\n\n                        shouldShowQuotaDetail = !shouldShowQuotaDetail;\n                        showArrow();\n                    };\n                })();\n            } else {\n\n                ViewsTemplateN.quotaContainer.style.display = \"none\";\n            }\n        };\n\n        var showArrow = function() {\n            if(ViewsTemplateN.quotaContainer.style.display == \"none\"){\n                shouldShowQuotaDetail = false;\n            }\n            if (shouldShowQuotaDetail) {\n\n                ViewsTemplateN.quotaDetailContainer.style.display = \"flex\";\n                $(\"J-N-f-space\").style.display = 'flex';\n\n                if(document.platform == \"android\") {\n\n                    ViewsTemplateN.quotaDetailArrow.src = foldup;\n                } else {\n\n                    ViewsTemplateN.quotaDetailArrow.style.transform = \"rotate(180deg)\";\n                }\n            } else {\n\n                ViewsTemplateN.quotaDetailContainer.style.display = \"none\";\n                $(\"J-N-f-space\").style.display = 'none';\n                if(document.platform == \"android\") {\n\n                    ViewsTemplateN.quotaDetailArrow.src = dropdown;\n                } else {\n\n                    ViewsTemplateN.quotaDetailArrow.style.transform = \"rotate(0deg)\";\n                }\n            }\n        };\n\n        // 模版U,补全身份信息,余额为0\n        var updateViewTemplateU = function (bizResult) {\n\n            Node.templateU.style.display = \"flex\";\n            Node.templateI.style.display = \"none\";\n            Node.templateN.style.display = \"none\";\n            Node.templateC.style.display = \"none\";\n            Node.templateL.style.display = \"none\";\n            Node.templateO.style.display = \"none\";\n            Node.accountHeader.style.display = \"none\";\n\n            // 充值提现,不可点击\n            $(\"J-U-payment-icon\").src = WealthAccount_bundle + \"deposit_icon\";\n            $(\"J-U-withdraw-icon\").src = WealthAccount_bundle + \"withdraw_icon\";\n\n            // 开户按钮\n            var mainButton = $(\"J-U-button\");\n            var title = bizResult.buttonInfo.buttonTitle;\n            mainButton.innerText = title && title.length > 0 ? title : \"{{补全身份信息}}\";\n            mainButton.onclick = (function (url) {\n\n                return function () {\n\n                    document.invoke(\"log\", {\n                        \"actionId\": \"clicked\",\n                        \"extParams\": {},\n                        \"appId\": \"20000019\",\n                        \"seed\": \"a210.b2140.c4723.d7415\",\n                        \"bizType\": \"AccountBalance\",\n                    }, function(rsp) {\n                    });\n\n                    if (url && url.length > 0) {\n\n                        document.openURL(url);\n                    } else {\n\n                        openAccount();\n                    }\n                };\n            })(bizResult.buttonInfo.buttonUrl);\n        };\n\n        // 模版I,补全身份信息,账户余额不为0\n        var updateViewTemplateI = function (bizResult) {\n\n            Node.templateI.style.cssText = \"display: flex;\";\n            Node.templateU.style.display = \"none\";\n            Node.templateN.style.display = \"none\";\n            Node.templateC.style.display = \"none\";\n            Node.templateL.style.display = \"none\";\n            Node.templateO.style.display = \"none\";\n\n            if (bizResult.superviceInfo && bizResult.superviceInfo.superviseLink) {\n\n                robot_url = bizResult.superviceInfo.superviseLink;\n            }\n            updateHeaderView(bizResult, false);\n\n            // 监管说明\n            if (bizResult.superviceInfo && bizResult.superviceInfo.supervise) {\n\n                var explain = bizResult.superviceInfo.supervise;\n                var moreLink = bizResult.superviceInfo.superviseLink;\n                $(\"J-U-explain-text\").style.display = \"flex\";\n                $(\"J-U-explain-text\").innerText = moreLink ? explain + '<a color = \"#108ee9\" href=\"' + moreLink + '\">{{了解更多}}</a>' : explain;\n            } else {\n\n                $(\"J-U-explain-text\").style.display = \"none\";\n            }\n\n            // 开通按钮\n            var openAccountButton = $(\"J-I-button\");\n\n            var title = bizResult.buttonInfo.buttonTitle;\n            openAccountButton.innerText = title && title.length > 0 ? title : \"{{补全身份信息}}\";\n\n            openAccountButton.onclick = (function (url) {\n                return function () {\n\n                    document.invoke(\"log\", {\n                        \"actionId\": \"clicked\",\n                        \"extParams\": {},\n                        \"appId\": \"20000019\",\n                        \"seed\": \"a210.b2140.c4723.d7415\",\n                        \"bizType\": \"AccountBalance\",\n                    }, function(rsp) {\n                    });\n\n                    if (url && url.length > 0) {\n\n                        document.openURL(url);\n                    } else {\n\n                        openAccount();\n                    }\n                };\n            })(bizResult.buttonInfo.buttonUrl);\n        };\n\n\n        // 模版C:二号令受限、存量待升级和L1待升级\n        var updateViewTemplateC = function (bizResult) {\n\n            Node.templateC.style.display = \"flex\";\n            Node.templateL.style.display = \"none\";\n            Node.templateN.style.display = \"none\";\n            Node.templateU.style.display = \"none\";\n            Node.templateI.style.display = \"none\";\n            Node.templateO.style.display = \"none\";\n\n            if (bizResult.superviceInfo) {\n\n                robot_url = bizResult.superviceInfo.superviseLink;\n            }\n            updateHeaderView(bizResult, true);\n\n            // 监管说明\n            if (bizResult.superviceInfo && bizResult.superviceInfo.supervise) {\n\n                var explain = bizResult.superviceInfo.supervise;\n                var moreLink = bizResult.superviceInfo.superviseLink;\n                $(\"J-C-warn-explain\").style.display = \"flex\";\n                $(\"J-C-explain\").innerText = moreLink ? explain + '<a color = \"#108ee9\" href=\"' + moreLink + '\">{{了解更多}}</a>' : explain;\n                $(\"J-warning-icon\").src = WealthAccount_bundle + \"warning\";\n            } else {\n\n                $(\"J-C-warn-explain\").style.display = \"none\";\n            }\n\n            // 剩余天数倒计时\n            var expirationDays = bizResult.expirationDays;\n            if (expirationDays) {\n\n                $(\"J-unit-img\").src = WealthAccount_bundle + \"count_down_bg\";\n                $(\"J-dec-img\").src = WealthAccount_bundle + \"count_down_bg\";\n\n                var unit = Math.floor(expirationDays % 10);\n                var decade = Math.floor((expirationDays - unit) / 10);\n                var decadeView = $(\"J-C-decade\");\n                var unitView = $(\"J-C-unit\");\n                decadeView.innerText = decade + \"\";\n                unitView.innerText = unit + \"\";\n            }\n\n            // 上传身份证\n            var limitButton = $(\"J-C-limit-button\");\n            var buttonTitle = bizResult.buttonInfo.buttonTitle;\n            var buttonUrl = bizResult.buttonInfo.buttonUrl;\n            if (buttonTitle && buttonUrl && buttonTitle.length > 0 && buttonUrl.length > 0) {\n\n                limitButton.innerText = buttonTitle;\n                limitButton.onclick = function () {\n\n                    document.openURL(buttonUrl);\n                };\n            } else {\n                limitButton.style.display = \"none\";\n            }\n\n\n            // 充值\\提现\n            updateApp(bizResult);\n\n            // 动态扩展的app\n            var list = $(\"J-C-extend-apps\");\n            var extendApps = bizResult.extendApps;\n            createAppListView(list, extendApps);\n        };\n\n        var updateViewTemplateL = function (bizResult) {\n\n            Node.templateL.style.display = \"flex\";\n            Node.templateC.style.display = \"none\";\n            Node.templateN.style.display = \"none\";\n            Node.templateU.style.display = \"none\";\n            Node.templateI.style.display = \"none\";\n            Node.templateO.style.display = \"none\";\n\n            if (bizResult.superviceInfo && bizResult.superviceInfo.superviseLink) {\n\n                robot_url = bizResult.superviceInfo.superviseLink;\n            }\n            updateHeaderView(bizResult, true);\n\n            updateApp(bizResult);\n\n            // 监管说明\n            if (bizResult.superviceInfo) {\n\n                $(\"J-L-explain-content\").style.display = 'flex';\n                var explain = bizResult.superviceInfo.supervise;\n                var moreLink = bizResult.superviceInfo.superviseLink;\n                $(\"J-L-explain\").innerText = moreLink ? explain + '<a color = \"#108ee9\" href=\"' + moreLink + '\">{{了解更多}}</a>' : explain;\n                $(\"J-L-warning-icon\").src = WealthAccount_bundle + \"warning\";\n            } else {\n\n                $(\"J-L-explain-content\").style.display = 'none';\n                $(\"J-L-f-space\").style.display = \"none\";\n            }\n\n\n            // 补全身份信息\n            var mainButton = $(\"J-L-button\");\n            var title = bizResult.buttonInfo.buttonTitle;\n            var buttonUrl = bizResult.buttonInfo.buttonUrl;\n            if (title && title.length > 0 && buttonUrl && buttonUrl.length > 0) {\n\n                mainButton.innerText = title;\n                mainButton.onclick = function () {\n\n                    document.invoke(\"log\", {\n                        \"actionId\": \"clicked\",\n                        \"extParams\": {},\n                        \"appId\": \"20000019\",\n                        \"seed\": \"a210.b2140.c4723.d7415\",\n                        \"bizType\": \"AccountBalance\",\n                    }, function(rsp) {\n                    });\n\n                    document.openURL(bizResult.buttonInfo.buttonUrl);\n                };\n            } else {\n\n                mainButton.style.display = \"none\";\n            }\n\n\n            // 动态扩展的app\n            var list = $(\"J-L-extend-apps\");\n            var extendApps = bizResult.extendApps;\n            createAppListView(list, extendApps);\n        };\n\n        var updateViewTemplateO = function(bizResult) {\n\n            Node.templateI.style.display = \"none\";\n            Node.templateU.style.display = \"none\";\n            Node.templateN.style.display = \"none\";\n            Node.templateC.style.display = \"none\";\n            Node.templateL.style.display = \"none\";\n            Node.templateO.style.display = \"flex\";\n\n            if (bizResult.superviceInfo && bizResult.superviceInfo.superviseLink) {\n\n                robot_url = bizResult.superviceInfo.superviseLink;\n            }\n            updateHeaderView(bizResult, false);\n\n            // 监管说明\n            if (bizResult.superviceInfo && bizResult.superviceInfo.supervise) {\n\n                var explain = bizResult.superviceInfo.supervise;\n                var moreLink = bizResult.superviceInfo.superviseLink;\n                $(\"J-O-explain-text\").style.display = 'flex';\n                $(\"J-O-explain-text\").innerText = moreLink ? explain + '<a color = \"#108ee9\" href=\"' + moreLink + '\">{{了解更多}}</a>' : explain;\n            } else {\n\n                $(\"J-O-explain-text\").style.display = 'none';\n            }\n\n            var updateIndentityInfo = $(\"J-O-button\");\n\n            var title = bizResult.buttonInfo.buttonTitle;\n            var buttonUrl = bizResult.buttonInfo.buttonUrl;\n            if (!title || title.length <= 0 || !buttonUrl || buttonUrl.length <= 0) {\n\n                updateIndentityInfo.style.display = \"none\";\n            } else {\n\n                updateIndentityInfo.innerText = title;\n\n                updateIndentityInfo.onclick = (function (url) {\n\n                    return function () {\n\n                        document.openURL(url);\n                    }\n                })(buttonUrl);\n            }\n\n            // 动态扩展的app\n            var list = $(\"J-O-extend-apps\");\n            var extendApps = bizResult.extendApps;\n            createAppListView(list, extendApps);\n        };\n\n        var showNavDetailButton = function (styleTemplate) {\n\n            // nav \"明细\"\n            var navDetailButton = $(\"J-nav-detaillist\");\n            if (styleTemplate == TEMPLATE_C || styleTemplate == TEMPLATE_L ||\n                    styleTemplate == TEMPLATE_N || styleTemplate == TEMPLATE_O) {\n                navDetailButton.style.display = \"flex\";\n                navDetailButton.onclick = function () {\n\n                    document.invoke(\"log\", {\n                        \"actionId\": \"clicked\",\n                        \"extParams\": {},\n                        \"appId\": \"20000019\",\n                        \"seed\": \"a210.b2140.c4723.d7411\",\n                        \"bizType\": \"AccountBalance\",\n                    }, function(rsp) {\n                    });\n\n                    document.openURL(DETAILLIST_URL);\n                };\n            } else {\n\n                navDetailButton.style.display = \"none\";\n            }\n        };\n        /**--------------- 加载数据 ---------------**/\n\n        var loadCacheData = function () {\n\n            var data = document.getProp(\"userPreferences\", {\n\n                \"key\" : \"WealthAccountHome\",\n                \"business\": \"WealthAccount\"\n            });\n            print(\"loadCacheData\", data);\n            // android： 清缓存后，再拿缓存，拿到字符串”0”\n            if (data && data.length > 1) {\n\n                var bizResult = JSON.parse(data);\n                setupView(bizResult);\n            }\n        };\n\n        var showRequestError = function (isBizError, errorText) {\n\n            if (hasSetupView) {\n\n                document.invoke(\"toast\", {\n\n                    \"text\" : errorText,\n                    \"type\" : isBizError ? \"failure\" : \"netError\",\n                    \"duration\" : 2000\n                });\n            } else {\n\n                updateErrorPage(isBizError, errorText);\n            }\n        };\n\n        // 错误全页面\n        var updateErrorPage = function (isBizError, errorText) {\n\n            Node.body.style.display = \"flex\";\n            Node.content.style.display = 'none';\n            Node.contentWrap.style.display = 'none';\n            Node.errorContent.style.display = 'flex';\n\n            showNavDetailButton(null);\n\n            $$(\".error-img\")[0].src = isBizError ? UICommon_bundle + \"ilustration_ap_expection_alert\" : UICommon_bundle + \"ilustration_ap_expection_networkerror\";//适配\n            $$('.error-text')[0].innerText = errorText;\n            var button = $(\"J-retry-button\");\n            button.onclick = function () {\n\n                loadData();\n            }\n        };\n\n        var gotoMorePage = function (url) {\n            document.invoke(\"log\", {\n                \"actionId\": \"clicked\",\n                \"extParams\": {},\n                \"appId\": \"20000019\",\n                \"seed\": \"a210.b2140.c4723.d7414\",\n                \"bizType\": \"AccountBalance\",\n            }, function(rsp) {\n            });\n\n            document.openURL(url);\n        };\n\n\n        /**--------------- app模块,充值和提现客户端写死,其他app动态生成.下面的逻辑需要跟视觉联系起来看  ---------------**/\n\n                // 充值提现app的展示和点击事件\n        var updateApp = function (bizResult) {\n\n                    var paymentCell;\n                    var withDrawCell;\n                    var paymentCellIcon;\n                    var withDrawCellIcon;\n                    var paymentCellArrow;\n                    var withDrawCellArrow;\n                    switch (bizResult.styleTemplate) {\n                        case TEMPLATE_N:\n                            paymentCell = $(\"J-N-payment\");      // 充值app\n                            withDrawCell = $(\"J-N-withdraw\");    // 提现app\n                            paymentCellIcon = $(\"J-N-payment-icon\");\n                            withDrawCellIcon = $(\"J-N-withdraw-icon\");\n                            paymentCellArrow = $(\"J-N-payment-arrow\");\n                            withDrawCellArrow = $(\"J-N-withdraw-arrow\");\n                            break;\n                        case TEMPLATE_C:\n                            paymentCell = $(\"J-C-payment\");\n                            withDrawCell = $(\"J-C-withdraw\");\n                            paymentCellIcon = $(\"J-C-payment-icon\");\n                            withDrawCellIcon = $(\"J-C-withdraw-icon\");\n                            paymentCellArrow = $(\"J-C-payment-arrow\");\n                            withDrawCellArrow = $(\"J-C-withdraw-arrow\");\n                            break;\n                        case TEMPLATE_L:\n                            paymentCell = $(\"J-L-payment\");\n                            withDrawCell = $(\"J-L-withdraw\");\n                            paymentCellIcon = $(\"J-L-payment-icon\");\n                            withDrawCellIcon = $(\"J-L-withdraw-icon\");\n                            paymentCellArrow = $(\"J-L-payment-arrow\");\n                            withDrawCellArrow = $(\"J-L-withdraw-arrow\");\n                            break;\n                        default:\n                            break;\n                    }\n                    // 充值\n                    if (bizResult.depositAvailble) {\n                        var depositUrl = \"alipays://platformapi/startapp?appId=20000255\";\n                        if(bizResult.extendInfos \n                            && bizResult.extendInfos.depoistUrl\n                            && bizResult.extendInfos.depoistUrl != \"\"){\n                            depositUrl = bizResult.extendInfos.depoistUrl;\n                        }\n                        paymentCell.style.display = \"flex\";\n                        paymentCell.onclick = function () {\n\n                            document.invoke(\"log\", {\n                                \"actionId\": \"clicked\",\n                                \"extParams\": {},\n                                \"appId\": \"20000019\",\n                                \"seed\": \"a210.b2140.c4724.d7408\",\n                                \"bizType\": \"AccountBalance\",\n                            }, function(rsp) {\n                            });\n\n                            document.openURL(depositUrl);\n                        };\n                        paymentCellIcon.src = WealthAccount_bundle + \"deposit_icon\";//适配\n                        paymentCellArrow.src = tableArrowResource;//适配\n\n                    } else {\n                        paymentCell.style.display = \"none\";\n                    }\n\n                    // 提现\n                    if (bizResult.withdrawAvailble) {\n\n                        withDrawCell.style.display = \"flex\";\n                        withDrawCell.onclick = function () {\n\n                            document.invoke(\"log\", {\n                                \"actionId\": \"clicked\",\n                                \"extParams\": {},\n                                \"appId\": \"20000019\",\n                                \"seed\": \"a210.b2140.c4724.d7409\",\n                                \"bizType\": \"AccountBalance\",\n                            }, function(rsp) {\n                            });\n\n                            document.invoke(\"startApp\", {\n                                \"appId\" : \"20000033\",\n                                \"param\" : {},\n                                \"animated\" : true\n                            });\n                        };\n                        withDrawCellIcon.src = WealthAccount_bundle + \"withdraw_icon\";//适配\n                        withDrawCellArrow.src = tableArrowResource;//适配\n                    } else {\n\n                        withDrawCell.style.display = \"none\";\n                    }\n                };\n\n        var createAppListView = function(listView, extendApps) {\n\n            if (!listView) return;\n            if (!extendApps) return;\n\n            listView.innerHTML = \"\"; // 不支持removeChild,用此删除全部child节点\n            var line = document.createElement(\"div\");\n            line.className = \"level-line\";\n            listView.appendChild(line);\n            for (var i = 0; i < extendApps.length; i++) {\n                createAppCellView(listView, extendApps[i]);\n            }\n        };\n        // 动态扩展APP,下面的逻辑需要跟视觉联系起来看\n        var createAppCellView = function (listView, extendApp) {\n\n            if (!extendApp) return;\n            var div = document.createElement(\"div\");\n            div.className = \"list-item\";\n            div.id = 'J-'+extendApp.icon;\n            var imgIcon = document.createElement(\"img\");\n            imgIcon.src = extendApp.icon;\n            imgIcon.style.cssText = \"width: 21px; height: 21px; margin-right: 10px;\";\n            var labelText = document.createElement(\"label\");\n            labelText.className = \"list-item-text\";\n            labelText.style.flex = \"1\";\n            labelText.innerText = extendApp.name;\n            var label = document.createElement(\"label\");\n            label.style.flex = \"1\";\n            var imgArrow = document.createElement(\"img\");\n            imgArrow.className = \"list-item-arrow\";\n            imgArrow.src = tableArrowResource;//适配\n\n            listView.appendChild(div);\n            div.appendChild(imgIcon);\n            div.appendChild(labelText);\n            div.appendChild(label);\n            div.appendChild(imgArrow);\n\n            // 鸟巢:通过闭包来绑定事件,不能直接返回一个具名函数.\n            div.onclick = (function (url) {\n                return function () {\n\n                    document.invoke(\"log\", {\n                        \"actionId\": \"clicked\",\n                        \"extParams\": {},\n                        \"appId\": \"20000019\",\n                        \"seed\": \"a210.b2140.c4724.d7410\",\n                        \"bizType\": \"AccountBalance\",\n                    }, function(rsp) {\n                    });\n\n                    document.openURL(url);\n                };\n            })(extendApp.url);\n\n            var line = document.createElement(\"div\");\n            line.className = \"level-line\";\n            listView.appendChild(line);\n        };\n\n        /**--------------- 提升额度模块,动态生成页面元素.下面的逻辑需要跟视觉联系起来看  ---------------**/\n\n        /**\n         * 提升额度模块,动态生成\n         * @param quotaListView : 视图列表 | <div>\n         * @param quotaDetail : 数据 | array\n         * @param buttonInfo :  提升额度按钮文本和链接\n         */\n        var createQuotaUpgradeView = function (quotaListView, quotaDetail, buttonInfo) {\n\n            if (!quotaListView) return;\n            if (!quotaDetail) return;\n            var count = quotaDetail.length;\n\n            for (var i = 0; i < count; i++) {\n\n                createQuotaUpgradeCell(quotaListView, quotaDetail[i], buttonInfo, i, count);\n            }\n        };\n\n\n        /**\n         * 额度提升动态生成每个cell\n         * @param quotaListView\n         * @param quotaData  数据 | dictionary\n         * @param buttonInfo 提升额度按钮文本和链接\n         * @param index\n         * @param count\n         */\n        var createQuotaUpgradeCell = function (quotaListView, quotaData, buttonInfo, index, count) {\n\n            var listItem = Utils.createElement(\"div.quota-listitem\");\n            quotaListView.appendChild(listItem);\n\n            // icon 区域\n            var cellIcon = createCellIcon(index, count);\n            listItem.appendChild(cellIcon);\n\n\n            // 文本区域\n            listItem.appendChild(createQuotaText(quotaData,index, count));\n\n            // 提升额度的按钮\n            if (index == 0 && count != 1) {\n\n                if (!buttonInfo.buttonUrl || buttonInfo.buttonUrl.length <= 0) return;\n\n                var buttonDiv = document.createElement(\"div\");\n                buttonDiv.className = \"quota-listitem-button\";\n                listItem.appendChild(buttonDiv);\n//                var button = Utils.createElement('button.quota-update-button');\n                var button = document.createElement('label');\n                button.className = 'quota-update-button';\n                button.id = 'J-N-upgrade-button';\n                button.innerText = buttonInfo.buttonTitle;\n                buttonDiv.appendChild(button);\n\n                button.onclick = (function (url) {\n                    return function () {\n                        //\n                        document.openURL(url);\n                    };\n                })(buttonInfo.buttonUrl);\n            }\n        };\n\n        // 额度提升文本\n        var createQuotaText = function (quotaData,index, count) {\n\n            var textsDiv = Utils.createElement(\"div.quota-listitem-text\");\n\n            // 额度描述\n            if (quotaData.quotaDesc && quotaData.quotaDesc.length > 0) {\n\n                var tTitle = Utils.createElement(\"label.quota-text-title\");\n                tTitle.innerText = quotaData.quotaDesc;\n                if (index != 0 && count > 1) {\n                    tTitle.style.color = \"#888888\";\n                }\n                textsDiv.appendChild(tTitle);\n            }\n            // 剩余额度\n            if (quotaData.remainQuotaDesc && quotaData.remainQuotaDesc.length > 0) {\n\n                var sTitle = Utils.createElement(\"label.quota-text-second\");\n                sTitle.innerText = quotaData.remainQuotaDesc;\n                if (!quotaData.blink) {\n\n                    sTitle.style.color = \"#000000\";\n                }\n                textsDiv.appendChild(sTitle);\n            }\n            // 额度说明\n            var memosCount = quotaData.quotaMemos.length;\n            for (var i = 0; i < memosCount; i++) {\n\n                var t = Utils.createElement(\"label.quota-text-third\");\n                t.innerText = quotaData.quotaMemos[i];\n                textsDiv.appendChild(t);\n            }\n            return textsDiv;\n        };\n\n        /**\n         * 左栏进度条的icon样式分为4种,可联系视觉稿\n         * @param :\n         * @param :\n         * @returns\n         */\n        var createCellIcon = function (index, count) {\n\n            var div = Utils.createElement(\"div.quota-listitem-icon\");\n            var circle = Utils.createElement(\"img.guide-circle\");\n            div.appendChild(circle);\n            if (index === 0 && count > 1) {\n\n                // L1,L2 额度提升的第一栏\n//                circle.style.backgroundColor = \"#108ee9\";\n//                circle.src = BeeViews_bundle + \"status_yes\";//适配\n                circle.src = WealthAccount_bundle + \"progress_success\";\n                div.appendChild(Utils.createElement(\"div.guide-line2px blue-color\"));\n                div.appendChild(Utils.createElement(\"div.guide-line2px grey-color\"));\n            } else if (index === 0 && count === 1) {\n\n                // L3 ,额度提升只有一栏\n//                circle.src = UICommon_bundle + \"checkbox_main_checked\";//适配\n                circle.src = WealthAccount_bundle + \"progress_success\";\n//                circle.style.backgroundColor = \"#108ee9\";\n//                circle.src = BeeViews_bundle + \"status_yes\";\n            } else if (index === 1 && count === 3) {\n\n                // L1, 额度提升第二栏\n                circle.src = WealthAccount_bundle + \"progress_on\"; //适配\n                div.appendChild(Utils.createElement(\"div.guide-line2px grey-color\"));\n                div.appendChild(Utils.createElement(\"div.guide-line2px grey-color\"));\n                div.appendChild(Utils.createElement(\"div.line-grey\"));\n            } else if (index === count - 1) {\n\n                // L2 ,额度提升第二栏; L1 ,额度提升第三栏\n//                div.className = \"quota-listitem-third-icon\";\n                circle.src = WealthAccount_bundle + \"progress_on\";//适配\n            }\n            return div;\n        };\n\n        var Utils = {\n\n            // 创建页面元素\n            // eg: 输入字符串: \"div#J-xxx.class-name[text=123,123;&xxx=123]\" (注意属性间的分割符为 ;& )\n            // 生成 :  <!--div id=\"J-xxx\" class=\"class-name\">123</div-->\n            createElement: function (str) {\n                var splitSymbol = \";&\";\n\n                var tagName = /^\\w+/.exec(str)[0];\n                var el = document.createElement(tagName);\n                if (!el) return;\n\n                var className = /\\.([\\w-\\s]+)/gi.exec(str);\n                var idName = /#((\\-|[\\w])+)/i.exec(str);\n                if (className && className[1]) {\n                    el.className = className[1];\n                }\n                if (idName && idName[1]) el.id = idName[1];\n\n                if (str.indexOf('[') != -1) {\n                    var attrs = /\\[(.+)\\]/.exec(str)[1].split(splitSymbol);\n                    for (var i = 0, l = attrs.length; i < l; i++) {\n                        var attr = attrs[i].split('=');\n                        if (attr.length != 2) continue;\n                        if (attr[0] == 'text') {\n                            el.innerText = attr[1];\n                        } else {\n                            el[attr[0]] = attr[1];\n                        }\n                    }\n                }\n                return el;\n            }\n        };\n\n\n        /**--------------- 模版I  ---------------**/\n\n                // 开通账户的rpc\n        var openAccount = function () {\n\n                    document.invoke(\"showProgress\");\n                    document.invoke(\"rpc\", {\n\n                        \"operationType\": \"alipay.wealth.account.open\",\n                        \"requestData\": []\n                    }, function (rsp) {\n\n                        document.invoke(\"hideProgress\");\n                        if (rsp.success) {\n                            var openAccountResult = rsp.result;\n                            if (openAccountResult.success) {\n                                // 业务成功后的处理\n\n                                document.alert({\n\n                                    \"title\": \"\",\n                                    \"message\": openAccountResult.resultView,\n                                    \"button\": \"{{我知道了}}\"\n                                }, function (data) {\n\n                                    // 回到首页,重新刷新界面\n                                    loadData();\n                                });\n                            } else {\n                                // 业务失败后的处理\n                                document.invoke(\"toast\", {\n\n                                    \"text\" : openAccountResult.resultView,\n                                    \"type\" : \"failure\",\n                                    \"duration\" : 2000\n                                });\n                            }\n                        }\n                    });\n                };\n\n        // 去余额宝或余利宝页面\n        function gotoYuebaoOrYulibaoPage(bizType,url)\n        {\n            if(bizType==\"YO\"){\n                document.invoke(\"log\", {\n                    \"actionId\": \"clicked\",\n                    \"extParams\": {},\n                    \"appId\": \"20000019\",\n                    \"seed\": \"a210.b2140.c4723.d10963\",\n                    \"bizType\": \"AccountBalance\",\n                }, function(rsp) {\n                });\n            }\n            if(bizType==\"YOI\" || bizType==\"YI\") {\n                document.invoke(\"log\", {\n                    \"actionId\": \"clicked\",\n                    \"extParams\": {},\n                    \"appId\": \"20000019\",\n                    \"seed\": \"a210.b2140.c4723.d10964\",\n                    \"bizType\": \"AccountBalance\",\n                }, function (rsp) {\n                });\n            }\n            if(bizType==\"LI\"){\n                document.invoke(\"log\", {\n                    \"actionId\": \"clicked\",\n                    \"extParams\": {},\n                    \"appId\": \"20000019\",\n                    \"seed\": \"a210.b2140.c4723.d10965\",\n                    \"bizType\": \"AccountBalance\",\n                }, function(rsp) {\n                });\n            }\n            document.openURL(url);\n        }","tag":"text"}],"type":"text/javascript"}]},{"id":"J-body","onload":"init();","tag":"body","children":[{"tag":"nav","children":[{"tag":"div"},{"tag":"div"},{"tag":"div","children":[{"id":"J-nav-detaillist","tag":"label","children":[{"text":"{{明细}}","tag":"text"}],"css":"nav-right"}]}]},{"id":"J-content-wrap","tag":"div","children":[{"id":"J-content","tag":"div","children":[{"id":"J-header","tag":"div","children":[{"tag":"div","children":[{"id":"J-account-title","tag":"label","css":"account"},{"id":"J-help","tag":"div","children":[{"id":"J-help-image","alt":"帮助","tag":"div","css":"circle-help-highlight"}],"css":"help"}],"css":"h-header"},{"id":"J-account-money","tag":"label","css":"money"}],"css":"header"},{},{"id":"freezeDiv","style":"display:none;background-color: #1B82D2;align-items: flex-start;","tag":"div","children":[{"id":"freezeCoreDiv","style":"align-items: center;margin-bottom: 15px;","tag":"div","children":[{"style":"color: #C9DDF7; font-size: 14px; text-align: left;margin-left: 15px;height:23px;","tag":"label","children":[{"text":"{{不可用余额}}：","tag":"text"}]},{"id":"freezeLabel","style":"color: #fff; font-size: 16px;height:23px;","tag":"label"},{"id":"freezeLink","style":"color: #fff; font-size: 16px;margin-bottom: 1.5px;margin-left: 6px;height:23px;","tag":"label","children":[{"text":">","tag":"text"}]}]}]},{},{"id":"j-yuebao","style":"display:none;height:40px;width:100%;background-color: #0074BF;align-items: center;justify-content: space-between;","tag":"div","children":[{"id":"j-yuebao-title","style":"flex:1;color: #fff; font-size: 14px; text-align: left;margin-left: 15px;margin-right: 5px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden","tag":"label"},{"id":"j-yuebao-button","style":"align-items: center;border: 1px solid #6D9FE1; background:#4987DB;border-radius:3px;height: 24px;margin-right: 15px;","tag":"div","children":[{"id":"j-yuebao-button-title","style":"margin:3px 6px 3px 6px; font-size: 14px;color: #fff; ","tag":"label"}]}]},{},{"id":"template-U","tag":"div","children":[{"tag":"div","children":[{"id":"J-U-list-header","tag":"label","children":[{"text":"{{补全身份信息,可使用以下功能}}:","tag":"text"}],"css":"u-list-header"},{"tag":"div","children":[{"id":"J-U-payment-icon","tag":"img","css":"u-list-icon"},{"tag":"label","children":[{"text":"{{充值}}","tag":"text"}],"css":"u-list-text"}],"css":"u-list-item"},{},{"tag":"div","children":[{"id":"J-U-withdraw-icon","tag":"img","css":"u-list-icon"},{"tag":"label","children":[{"text":"{{提现}}","tag":"text"}],"css":"u-list-text"}],"css":"u-list-item"}],"css":"list"},{"tag":"div","children":[{"id":"J-U-button","tag":"button","css":"button"}],"css":"template-content"}],"css":"container"},{},{"id":"template-I","tag":"div","children":[{"tag":"div","children":[{"tag":"div","children":[{"id":"J-U-explain-text","onlink":"gotoMorePage","tag":"label","css":"explain-text"}],"css":"explain"},{"id":"J-I-button","style":"margin-top: 40px","tag":"button","css":"button"}],"css":"template-content"}],"css":"container"},{},{"id":"template-C","tag":"div","children":[{"tag":"div","children":[{"id":"J-C-warn-explain","tag":"div","children":[{"id":"J-warning-icon","tag":"img","css":"limit-explain-icon"},{"id":"J-C-explain","onlink":"gotoMorePage","tag":"label","css":"limit-explain"}],"css":"row margin-vertical20px"},{},{"tag":"div","children":[{"tag":"div","children":[{"tag":"label","children":[{"text":"{{剩余}}","tag":"text"}],"css":"countdown-text countdown-color"}],"css":"padding-horizontal"},{"tag":"div","children":[{"tag":"div","children":[{"id":"J-unit-img","tag":"img","css":"countdown-img countdown-img-left"},{"id":"J-C-decade","tag":"label","css":"countdown-num countdown-color countdown-img countdown-img-left"}],"css":"countdown-inner-bg"},{"tag":"div","children":[{"id":"J-dec-img","tag":"img","css":"countdown-img countdown-img-right"},{"id":"J-C-unit","tag":"label","css":"countdown-num countdown-color countdown-img countdown-img-right"}],"css":"countdown-inner-bg"}],"css":"countdown-bg"},{"tag":"div","children":[{"tag":"label","children":[{"text":"{{天}}","tag":"text"}],"css":"countdown-text countdown-color"}],"css":"padding-horizontal"}],"css":"row align-center"},{"id":"J-C-limit-button","tag":"button","css":"limit-button"}],"css":"c-content"},{"id":"J-C-list","tag":"div","children":[{"id":"J-C-f-space","style":"height: 20px","tag":"div","css":"list-background-color"},{"tag":"div","css":"level-line"},{"id":"J-C-payment","tag":"div","children":[{"id":"J-C-payment-icon","tag":"img","css":"list-item-icon"},{"tag":"label","children":[{"text":"{{充值}}","tag":"text"}],"css":"list-item-text"},{"style":"flex: 1","tag":"label"},{"id":"J-C-payment-arrow","tag":"img","css":"list-item-arrow"}],"css":"list-item"},{"tag":"div","css":"level-line"},{"id":"J-C-withdraw","tag":"div","children":[{"id":"J-C-withdraw-icon","tag":"img","css":"list-item-icon"},{"tag":"label","children":[{"text":"{{提现}}","tag":"text"}],"css":"list-item-text"},{"style":"flex: 1","tag":"label"},{"id":"J-C-withdraw-arrow","tag":"img","css":"list-item-arrow"}],"css":"list-item"},{"tag":"div","css":"level-line"},{"style":"height: 20px","tag":"div","css":"list-background-color"},{"id":"J-C-extend-apps","style":"flex-direction: column;","tag":"div"}],"css":"list"}],"css":"container"},{},{"id":"template-O","tag":"div","children":[{"tag":"div","children":[{"tag":"div","children":[{"id":"J-O-explain-text","onlink":"gotoMorePage","tag":"label","css":"explain-text"}],"css":"explain"},{"id":"J-O-button","style":"margin-top: 40px","tag":"button","css":"button"}],"css":"template-content"},{"id":"J-O-list","tag":"div","children":[{"style":"height: 20px","tag":"div","css":"list-background-color"},{"id":"J-O-extend-apps","style":"flex-direction: column;","tag":"div"}],"css":"list"}],"css":"container"},{},{"id":"template-L","tag":"div","children":[{"tag":"div","children":[{"id":"J-L-explain-content","style":"margin-top: 20px; margin-bottom: 10px","tag":"div","children":[{"id":"J-L-warning-icon","tag":"img","css":"limit-explain-icon"},{"id":"J-L-explain","onlink":"gotoMorePage","tag":"label","css":"explain-text"}],"css":"row"},{"id":"J-L-button","tag":"button","css":"button"}],"css":"c-content"},{"tag":"div","children":[{"id":"J-L-f-space","style":"height: 21px","tag":"div","css":"list-background-color"},{"tag":"div","css":"level-line"},{"id":"J-L-payment","tag":"div","children":[{"id":"J-L-payment-icon","tag":"img","css":"list-item-icon"},{"tag":"label","children":[{"text":"{{充值}}","tag":"text"}],"css":"list-item-text"},{"style":"flex: 1","tag":"label"},{"id":"J-L-payment-arrow","tag":"img","css":"list-item-arrow"}],"css":"list-item"},{"tag":"div","css":"level-line"},{"id":"J-L-withdraw","tag":"div","children":[{"id":"J-L-withdraw-icon","tag":"img","css":"list-item-icon"},{"tag":"label","children":[{"text":"{{提现}}","tag":"text"}],"css":"list-item-text"},{"style":"flex: 1","tag":"label"},{"id":"J-L-withdraw-arrow","tag":"img","css":"list-item-arrow"}],"css":"list-item"},{"tag":"div","css":"level-line"},{"tag":"div","css":"list-background-color list-space-height"},{"id":"J-L-extend-apps","style":"flex-direction: column;","tag":"div"}],"css":"list"}],"css":"container"},{},{"id":"template-N","tag":"div","children":[{"id":"J-N-quota","tag":"div","children":[{"tag":"div","children":[{"id":"J-amount-left","tag":"label","css":"amount-left"},{"id":"J-details","tag":"div","children":[{"id":"J-detail-label","tag":"label","css":"upgrade-detail-label"},{"id":"J-upgrade-arrow","tag":"img","css":"upgrade-arrow"}],"css":"upgrade-detail"}],"css":"level"}],"css":"quota-info"},{"id":"J-N-quota-container","tag":"div","children":[{"id":"J-N-explain","onlink":"gotoMorePage","tag":"label","css":"explain-text margin-bottom-25"},{},{"id":"J-N-quota-list","style":"flex-direction: column","tag":"div","children":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}],"css":"quota-container"},{"id":"J-N-list","tag":"div","children":[{"id":"J-N-f-space","style":"height: 20px; display: none","tag":"div","css":"list-background-color"},{"tag":"div","css":"level-line"},{"id":"J-N-payment","tag":"div","children":[{"id":"J-N-payment-icon","tag":"img","css":"list-item-icon"},{"tag":"label","children":[{"text":"{{充值}}","tag":"text"}],"css":"list-item-text"},{"style":"flex: 1;","tag":"label"},{"id":"J-N-payment-arrow","tag":"img","css":"list-item-arrow"}],"css":"list-item"},{"tag":"div","css":"level-line"},{"id":"J-N-withdraw","tag":"div","children":[{"id":"J-N-withdraw-icon","tag":"img","css":"list-item-icon"},{"tag":"label","children":[{"text":"{{提现}}","tag":"text"}],"css":"list-item-text"},{"style":"flex: 1;","tag":"label"},{"id":"J-N-withdraw-arrow","tag":"img","css":"list-item-arrow"}],"css":"list-item"},{"tag":"div","css":"level-line"},{"style":"height: 20px","tag":"div","css":"list-background-color"},{"id":"J-N-extend-apps","style":"flex-direction: column;","tag":"div"},{"style":"flex: 1","tag":"div","css":"list-background-color"}],"css":"list"}],"css":"container"},{"style":"height: 20px","tag":"div","css":"list-background-color"}],"css":"content"},{"tag":"div","children":[{"style":"align-items: center; justify-content: center;","tag":"div","children":[{"id":"id_img_loan","tag":"img"},{"style":"color: #596E96;font-size:13px;margin-left:3px;margin-right:9px","tag":"label","children":[{"text":"{{信用借款}}","tag":"text"}]}],"onclick":"document.openURL('alipays://platformapi/startapp?appId=20000180&url=%2Fwww%2Fpages%2Findex.htm%3FbizScenario%3D2126')"},{"id":"id_bottom_div_help","style":"align-items: center; justify-content: center;","tag":"div","children":[{"style":"color: #596E96;margin-bottom:1.5px;font-size:15px;","tag":"label","children":[{"text":"|","tag":"text"}]},{"style":"color: #596E96;font-size:13px;margin-left:9px","tag":"label","children":[{"text":"{{常见问题}}","tag":"text"}]}]}],"css":"bottom-extern-link"}],"css":"content-wrap"},{},{"id":"J-error-content","tag":"div","children":[{"tag":"div","children":[{"tag":"img","css":"error-img"}],"css":"error-img-container"},{"tag":"label","css":"error-text"},{"id":"J-retry-button","tag":"button","children":[{"text":"{{刷新}}","tag":"text"}],"css":"error-button"},{"style":"flex: 1;","tag":"div"}],"css":"error-content"}],"css":"myBody"}]},"format":"JSON","tplVersion":"5.2.4"}