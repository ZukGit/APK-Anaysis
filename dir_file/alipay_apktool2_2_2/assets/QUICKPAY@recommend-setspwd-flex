{"time":"0005","tplId":"QUICKPAY@recommend-setspwd-flex","publishVersion":"150924","tag":"QUICKPAY","name":"recommend-setspwd-flex","data":{"tag":"html","children":[{"tag":"head","children":[{"tag":"meta","src":"AlipaySDK.bundle/amc.i18n","type":"i18n"},{"tag":"script","src":"AlipaySDK.bundle/amc.js"},{"tag":"link","rel":"stylesheet","href":"AlipaySDK.bundle/amc.css"},{"tag":"script","children":[{"text":"var getTag=amc.fn.getById;var hide=amc.fn.hide;var show=amc.fn.show;var tipsSet=\"{{spwd_for_pay}}\";var tipsRepeat=\"{{repeat_confirm}}\";var actionSet=\"/recommend/setspwd\";var actionRepeat=\"/recommend/savespwd\";function init(){try{initUI();if(amc.fn.logPageInit){amc.fn.logPageInit(true)}}catch(a){if(amc.fn.logPageInit){amc.fn.logPageInit()}}}function initUI(){var a=amc.fn.iNav(amc.res.arrowLeft,\"{{input_pay_pwd}}\",null,null,onBack,null);getTag(\"body\").insertBefore(a,getTag(\"iLine\"));getTag(\"tips\").innerText=tipsSet;getTag(\"spwd\").focus()}function onSpwdInput(){resetErrMsg();var a=getTag(\"spwd\");if(a.value.length===6){onFirstInput()}}function onFirstInput(){var c={action:{name:actionSet}};var b=getTag(\"spwd\").value;var a={spwd:b};a.encryptType=\"RSA\";c.param=a;document.asyncSubmit(c,function(d){if(d.status===\"0001\"){hide(\"spwdBox\");getTag(\"tips\").innerText=tipsRepeat;getTag(\"spwdRepeat\").value=\"\";show(\"spwdRepeatBox\");getTag(\"spwdRepeat\").focus()}else{if(d.status===\"0000\"){getTag(\"spwd\").disabled=false;getTag(\"spwd\").value=\"\";if(d.errMsg){resetErrMsg(d.errMsg)}getTag(\"spwd\").focus()}}})}function onSpwdRepeatInput(){resetErrMsg();var c=getTag(\"spwdRepeat\");if(c.value.length===6){var d={action:{name:actionRepeat}};var b=c.value;var a={spwd:b};a.encryptType=\"RSA\";d.param=a;document.asyncSubmit(d,function(e){if(e.status===\"0000\"){if(e.errMsg){resetErrMsg(e.errMsg)}againOnce()}})}}function againOnce(){getTag(\"spwd\").value=\"\";show(\"spwdBox\");hide(\"spwdRepeatBox\");getTag(\"tips\").innerText=tipsSet;getTag(\"spwd\").focus()}function openProtocol(){document.submit({action:{name:\"loc:openweb('\"+protocolURL+\"')\"}})}function resetErrMsg(a){if(a){show(\"errMsgBox\")}else{hide(\"errMsgBox\")}getTag(\"errMsg\").innerText=a||\"\"}function onBack(){if(getTag(\"spwdBox\").style.display===\"none\"){againOnce()}else{document.submit({action:{name:\"loc:back\"}})}}function onKeyDown(){if(event.which==4){onBack()}};","tag":"text"}]},{"tag":"style","children":[{"text":".err-msg-text {\n    color:#f4333c;\n}\n.title-box {\n    justify-content: center;\n}\n\n.title-label {\n    -webkit-line-clamp:5;\n    -webkit-box-orient:vertical;\n    display:-webkit-box;\n}","tag":"text"}]}]},{"id":"body","onload":"init()","tag":"body","children":[{"id":"iLine","tag":"div","css":"amc-1px-title-line"},{"tag":"div","children":[{"tag":"div","children":[{"id":"tips","tag":"label","css":"amc-font-m amc-text-center amc-flex-1 title-label"}],"css":"title-box amc-pd-t-xl amc-pd-b"},{"tag":"div","children":[{"id":"spwdBox","tag":"div","children":[{"id":"spwd","tag":"embed","value":"","src":"payspwd","type":"MQPPayPwdView","css":"amc-pwd-input amc-spwd-height","oninput":"onSpwdInput()"}],"css":"amc-spwd-box"},{"id":"spwdRepeatBox","tag":"div","children":[{"id":"spwdRepeat","tag":"embed","value":"","src":"payspwd","type":"MQPPayPwdView","css":"amc-pwd-input amc-spwd-height","oninput":"onSpwdRepeatInput()"}],"css":"amc-spwd-box amc-hidden"}],"css":"amc-v-box"},{"id":"errMsgBox","tag":"div","children":[{"id":"errMsg","tag":"label","children":[{"text":"{{pwd-error-repeat}}","tag":"text"}],"css":"err-msg-text amc-font-m amc-flex-1 amc-text-center amc-ellipsis-2-line"}],"css":"amc-hidden amc-pd-t amc-pd-lr"}],"css":"amc-pd-lr amc-flex-1 amc-v-box"}],"onkeydown":"onKeyDown();","css":"amc-i-body"}]},"format":"JSON","tplVersion":"5.0.8"}