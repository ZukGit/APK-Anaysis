{"time":"0034","tplId":"WALLET-SEARCH@everywhere","publishVersion":"150603","tag":"WALLET-SEARCH","name":"everywhere","data":{"tag":"html","children":[{"tag":"head","children":[{"content":"text/html; charset=UTF-8","tag":"meta","http-equiv":"Content-Type"},{"tag":"style","children":[{"text":".body {\n      background-color: #ccc;\n    }\n       .cell {\n            height: 307px;\n            background-color: #FFFFFF;\n            padding-bottom: 0;\n            display: flex;\n            flex-direction: column;\n            width: 100%;\n       } \n      .top-split-line {\n        height: 1PX;\n        width: 100%;\n        background-color: #bbb;\n        overflow: hidden;\n       }\n       .pic-div {\n            position: relative;\n            height: 205px;\n            display: flex;\n            background-image: url(Everywhere.bundle/list_image_default);\n       }\n       .header-wrap {\n            width: 24px;\n            height: 24px;\n            border-radius: 12px;\n            background-color: #fff;\n            padding: 1px;\n       }\n       .header {\n            width: 22px;\n            height: 22px;\n            border-radius: 11px;\n            overflow: hidden;\n            background-color: #333;\n       }\n       .bg-pic {\n            position: absolute;\n            width: 100%;\n            height: 205px;\n       }\n       .pic-container {\n            flex: 1;\n            padding: 8px 10px 8px 10px;\n            z-index: 1;\n            display: flex;\n            align-items: flex-start;\n       }\n       .first-line {\n            display: flex;\n            align-items: center;\n            flex:1;\n       }\n       .brand-logo {\n          width: 24px;\n          height: 15px;\n          margin-left: 6px;\n       }\n       .user-name {\n          margin-left: 6px;\n          color: #fff;\n          font-size: 13px;\n          flex: 2;\n       }\n       .user-name-and-distance {\n          flex: 1;\n          display: flex;\n       }\n       .distance{\n          font-size: 13px;\n          color: #fff;\n          opacity: 0.7;\n          flex: 1;\n          margin-left: 10px;\n          text-align:right;\n       }\n       .content {\n            padding: 12px; \n            display: flex;\n            flex-direction: column;\n            flex: 1;\n       }\n       .title {\n          font-size: 18px;\n          color: #000000;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n       }\n       .desc {\n          margin-top: 3px;\n          font-size: 13px;\n          color: #999;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n       }\n       .price {\n          margin-top: 7px;\n          font-size: 18px;\n          color: #FFB415;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n       }\n       .split-line {\n          height: 8px;\n          background-color: #ebefed;\n       }\n       .task-cell {\n          height: 175px;\n          position: relative;\n          display: flex;\n          flex-direction: column;\n       }\n       .task-pic-div {\n         height: 167px;\n         background-image: none;\n       }\n       .task-content {\n          position: absolute;\n          top: 0;\n          left: 0;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          width: 100%;\n          height: 167px;\n          justify-content: center;\n          padding: 0;\n       }\n       .task-title {\n          margin-top: 15px;\n          align-self: stretch;\n          text-align: center;\n          color: #fff;\n          margin-left: 10px;\n          margin-right: 10px;\n       }\n       .task-desc {\n          align-self: stretch;\n          text-align: center;\n          color: #fff;\n          margin-left: 10px;\n          margin-right: 10px;\n       }\n       .task-price {\n          align-self: stretch;\n          text-align: center;\n          margin-left: 10px;\n          margin-right: 10px;\n       }\n       .shadow {\n          position: absolute;\n          width: 100%;\n          height: 60px;\n          left: 0;\n          top: 0;\n       }","tag":"text"}],"type":"text/css"},{"tag":"script","children":[{"text":"var $ = function(sel) {\n        return document.getElementById(sel);\n    };\n\n    var addClass = function (node, className) {\n      node.className += (' ' + className + ' ');\n    }\n\n    var removeClass = function(node, className) {\n      var classNames = node.className.split(' ');\n\n      var newClassNames = [];\n      for (var i = 0, l = classNames.length; i < l; i++) {\n        if (classNames[i] != className) {\n          newClassNames.push(classNames[i]);\n        }\n      }\n      node.className = newClassNames.join(' ');\n    }\n    window.rpcData = null;\n\n\n    var addTaskClassName = function() {\n      addClass(NODE.cell, 'task-cell');\n      addClass(NODE.picDiv, 'task-pic-div');\n      addClass(NODE.content, 'task-content');\n      addClass(NODE.title, 'task-title');\n      addClass(NODE.desc, 'task-desc');\n      addClass(NODE.price, 'task-price');\n    }\n\n\n    var removeTaskClassName = function() {\n      removeClass(NODE.cell, 'task-cell');\n      removeClass(NODE.picDiv, 'task-pic-div');\n      removeClass(NODE.content, 'task-content');\n      removeClass(NODE.title, 'task-title');\n      removeClass(NODE.desc, 'task-desc');\n      removeClass(NODE.price, 'task-price'); \n    }\n\n    var NODE = {\n      cell : $('J-cell'),\n      title : $('J-title'),\n      desc : $('J-desc'),\n      price : $('J-price'),\n      picDiv : $('J-pic-div'),\n      bg : $('J-bg'),\n      header : $('J-header'),\n      brandLogo : $('J-brand-logo'),\n      userName : $('J-user-name'),\n      distance : $('J-distance'),\n      content : $('J-content'),\n      picContainer : $('J-pic-container'),\n      shadowImg : $('J-shadow')\n    };\n\n    var load = function() {\n      $(\"J-cell\").onclick = function() {\n        var url = \"\";\n        var type = rpcData.type.toLowerCase();\n        if (type == 'task') {\n            url = 'alipays://platformapi/startapp?appId=20000926&target=taskdetail&sourceId=globalsearch&appClearTop=false&taskId=' + rpcData.biz_id + (rpcData.biz_search_tag ? (\"&searchTag=\" + rpcData.biz_search_tag) : \"\");\n        } else if (type == 'service') {\n            url = 'alipays://platformapi/startapp?appId=20000926&appClearTop=false&sourceId=globalsearch&page=item-detail&itemId=' + rpcData.biz_id + (rpcData.biz_search_tag ? (\"&searchTag=\" + rpcData.biz_search_tag) : \"\") + '&shopId=' + rpcData.shop_id + '&spId=' + rpcData.sp_id + '&ttb=auto&pd=NO';\n        }\n\n        if (url != \"\") {\n            document.openURL(url);\n        }\n      }\n    };\n\n    document.onreload = function(data) {\n      if (document.platform == \"iOS\") {\n          data = data[\"ext\"];\n      }\n      window.rpcData = data;\n\n      NODE.title.style.display = data.title ? 'flex' : 'none';\n      NODE.title.innerText = data.title || '';\n      NODE.price.style.display = data.price_and_unit ? 'flex' : 'none';\n      NODE.price.innerText = data.price_and_unit || '';\n      NODE.userName.innerText = data.name || '';\n      NODE.distance.innerText = data.distance || '';\n      NODE.desc.style.display = data.description ? 'flex' : 'none';\n      NODE.desc.innerText = data.description || '';\n      NODE.header.style.display = data.portrait ? 'flex' : 'none';\n      NODE.header.src = data.portrait || '';\n\n      if (data.type.toLowerCase() == 'task') {\n        addTaskClassName();\n\n        NODE.bg.style.height = '167px';\n        if (data.img != '') {\n            NODE.bg.src = data.img;\n            NODE.bg.style.display = \"flex\";\n            NODE.picContainer.style.backgroundColor = 'rgba(0,0,0, 0.5)';\n            NODE.userName.style.color = \"rgba(255,255,255,0.9)\";\n            NODE.distance.style.color = \"rgba(255,255,255,0.7)\";\n            NODE.title.style.color = '#ffffff';\n            NODE.desc.style.color = \"rgba(255,255,255,0.6)\";\n            NODE.title.style.color = \"#ffffff\";\n            NODE.shadowImg.style.display = 'flex';\n        } else {\n            NODE.bg.src = \"\";\n            NODE.bg.style.display = \"none\";\n            NODE.picContainer.style.backgroundColor = 'rgba(0,0,0, 0)';\n            NODE.distance.style.color = \"rgba(0,0,0,0.3)\";\n            NODE.title.style.color = \"#000000\";\n            NODE.desc.style.color = \"rgba(0,0,0,0.3)\";\n            NODE.userName.style.color = \"rgba(0,0,0,0.6)\";\n            NODE.shadowImg.style.display = 'none';\n        }\n        NODE.brandLogo.style.display = \"none\";\n      } else {\n        removeTaskClassName();\n\n        NODE.picContainer.style.backgroundColor = 'rgba(0,0,0, 0)';\n        NODE.bg.src = data.img;\n        NODE.bg.style.display = \"flex\";\n\n        if (document.platform == \"iOS\") {\n          NODE.shadowImg.src = \"Everywhere.bundle/service_cell_shadow\";\n        } else {\n          NODE.shadowImg.src = \"android-phone-wallet-everywhere/com.alipay.android.phone.wallet.everywhere/service_list_trans\";\n        }\n\n        if (data.serviceSource == 'MERCHANT') {\n          if (document.platform == \"iOS\") {\n              NODE.brandLogo.src = \"Everywhere.bundle/trademark_icon\";\n          } else {\n              NODE.brandLogo.src = \"android-phone-wallet-everywhere/com.alipay.android.phone.wallet.everywhere/merchant\";\n          }\n          NODE.brandLogo.style.display = 'flex';\n        } else {\n          NODE.brandLogo.style.display = \"none\";\n        }\n      }\n    }","tag":"text"}],"type":"text/javascript"}]},{"onload":"load();","tag":"body","children":[{"id":"J-cell","tag":"div","children":[{"tag":"div","css":"top-split-line"},{"id":"J-pic-div","tag":"div","children":[{"cutscalemode":"autocutexactly","id":"J-bg","contentmode":"ScaleAspectFill","tag":"img","css":"bg-pic"},{"id":"J-pic-container","tag":"div","children":[{"id":"J-shadow","tag":"img","src":"Everywhere.bundle/service_cell_shadow","css":"shadow"},{"tag":"div","children":[{"tag":"div","children":[{"id":"J-header","contentmode":"ScaleAspectFill","tag":"img","src":"","css":"header"}],"css":"header-wrap"},{"id":"J-brand-logo","tag":"img","src":"","css":"brand-logo"},{"tag":"div","children":[{"id":"J-user-name","tag":"label","css":"user-name"},{"id":"J-distance","tag":"label","css":"distance"}],"css":"user-name-and-distance"}],"css":"first-line"}],"css":"pic-container"}],"css":"pic-div"},{"id":"J-content","tag":"div","children":[{"id":"J-title","tag":"label","css":"title"},{"id":"J-desc","tag":"label","css":"desc"},{"id":"J-price","tag":"label","css":"price"}],"css":"content"},{"tag":"div","css":"split-line"}],"css":"cell"}],"css":"body"}]},"format":"JSON","tplVersion":"5.0.8"}