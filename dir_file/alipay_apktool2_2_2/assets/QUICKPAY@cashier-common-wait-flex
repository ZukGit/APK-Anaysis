{"time":"0008","tplId":"QUICKPAY@cashier-common-wait-flex","publishVersion":"150924","tag":"QUICKPAY","name":"cashier-common-wait-flex","data":{"tag":"html","children":[{"tag":"head","children":[{"tag":"meta","src":"AlipaySDK.bundle/amc.i18n","type":"i18n"},{"tag":"script","src":"AlipaySDK.bundle/amc.js"},{"tag":"link","rel":"stylesheet","href":"AlipaySDK.bundle/amc.css"},{"tag":"script","children":[{"text":"var getTag=amc.fn.getById;var rpc=amc.rpcData;var show=amc.fn.show;var hide=amc.fn.hide;var gifTag=null;var successTxt=rpc.successText||\"{{pay_ok}}\";var loadingBlueGif=amc.path+\"alipay_msp_loading_blue.gif\";var successBlueNorepeatGif=amc.path+\"alipay_msp_success_blue.gif\";var PAY_SUCCESS_CODE=\"0001\";var PAY_FAILURE_CODE=\"0002\";function init(){try{initUI();if(amc.fn.logPageInit){amc.fn.logPageInit(true)}}catch(a){if(amc.fn.logPageInit){amc.fn.logPageInit(false)}}}function getResource(a){if(a&&a.indexOf(\"local:\")===0){return amc.path+a.substr(6)}return a||\"\"}function initUI(){var b=amc.fn.isObject(rpc.backAct)?amc.res.arrowLeft:amc.res.close;var d=amc.fn.iNav(b,rpc.title||\"\",null,null,onBack,null,null,null);getTag(\"body\").insertBefore(d,getTag(\"titleLine\"));var c=getTag(\"logo\");var a=\"local:alipay_msp_validation_logo\";c.src=getResource(rpc.logo||a);c.defaultvalue=getResource(a);c.failurevalue=getResource(a);getTag(\"info\").innerText=rpc.info||\"\";if(rpc.button&&rpc.button.txt){getTag(\"button\").innerText=rpc.button.txt}else{hide(\"buttonContainer\")}gifTag=getTag(\"pwdLoadGif\");if(rpc.action){setTimeout(function(){onPayComplete()},10)}}function onPayComplete(){var a={action:(rpc.button&&rpc.button.act)||rpc.action||{name:\"/cashier/payResultQuery\"}};a.action.loadtxt=\"\";document.asyncSubmit(a,function(b){b=b||{};if(b.pageloading===\"0\"&&gifTag.src===loadingBlueGif){hide(\"pwdLoad\")}else{if(b.pageloading===\"1\"){show(\"pwdLoad\")}}if(b.status===PAY_SUCCESS_CODE){showSuccessAnimation(b.successText)}else{if(b.status===PAY_FAILURE_CODE){stopLargeLoading()}}});startLargeLoading(rpc.loadingText)}function startLargeLoading(a){hide(\"mainContent\");show(\"pwdLoad\");gifTag.src=loadingBlueGif;if(a){getTag(\"loadTxt\").innerText=a}}function stopLargeLoading(){hide(\"pwdLoad\");show(\"mainContent\")}function showSuccessAnimation(a){getTag(\"loadTxt\").innerText=a||successTxt;gifTag.src=successBlueNorepeatGif;show(\"pwdLoad\")}function onBack(){if(rpc.backAct){document.submit(rpc.backAct)}else{amc.fn.exit()}}function onKeyDown(){if(event.which==4){onBack()}};","tag":"text"}]},{"tag":"style","children":[{"text":".info-box {\n            margin-top: 31px;\n        }\n\n        .btn-margin-between {\n            margin-top: 15px;\n        }\n\n        .info-text {\n            font-size: 17px;\n            color: #4A494A;\n        }\n\n        .pd-t-l {\n            padding-top: 20px;\n        }\n\n        .stretch-self {\n            align-self: stretch;\n        }\n\n        .font-l-white {\n            font-size: 17px;\n            color: #000;\n        }\n\n        .loading-box {\n            padding-top: 20px;\n        }","tag":"text"}]}]},{"id":"body","onload":"init()","tag":"body","children":[{"id":"titleLine","tag":"div","css":"amc-1px-title-line"},{},{"id":"mainContent","tag":"div","children":[{"tag":"div","children":[{"id":"logo","contentmode":"Center","tag":"img"},{"id":"info","tag":"label","children":[{"text":"{{pay_in_ebank}}","tag":"text"}],"css":"info-text amc-text-center amc-ellipsis-2-line info-box"}],"css":"amc-v-box amc-flex-center amc-flex-1"},{"id":"buttonContainer","tag":"div","children":[{},{"id":"button","tag":"button","children":[{"text":"{{ebank_pay_complete}}","tag":"text"}],"onclick":"onPayComplete()","css":"amc-btn-primary amc-flex-1 btn-margin-between"}],"css":"amc-v-box amc-b-box"}],"css":"amc-pd-lr amc-v-box amc-flex-1"},{},{"id":"pwdLoad","tag":"div","children":[{"tag":"div","css":"amc-flex-space-1"},{"id":"pwdLoadGif","tag":"embed","type":"MQPPayGifView","css":"amc-load-img"},{"tag":"div","children":[{"id":"loadTxt","tag":"label","children":[{"text":"{{ebank_loading}}","tag":"text"}],"css":"font-l-white amc-flex-1 amc-text-center amc-ellipsis-2-line"}],"css":"pd-t-l stretch-self amc-pd-lr"},{"tag":"div","css":"amc-flex-space-2"}],"css":"amc-loading-box amc-hidden loading-box"},{"tag":"div","css":"amc-iphone-x-pd-b"}],"onkeydown":"onKeyDown()","css":"amc-i-body"}]},"format":"JSON","tplVersion":"5.2.4"}