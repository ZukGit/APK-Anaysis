{"time":"0008","tplId":"QUICKPAY@cashier-wkcard-billaddr-flex","publishVersion":"150924","tag":"QUICKPAY","name":"cashier-wkcard-billaddr-flex","data":{"tag":"html","children":[{"tag":"head","children":[{"tag":"script","src":"cashier-wkcard-billaddr.js"},{"tag":"meta","src":"AlipaySDK.bundle/amc.i18n","type":"i18n"},{"tag":"link","rel":"stylesheet","href":"AlipaySDK.bundle/amc.css"},{"tag":"script","src":"AlipaySDK.bundle/amc.js"},{"tag":"script","children":[{"text":"var getTag=amc.fn.getById;var hide=amc.fn.hide;var show=amc.fn.show;var saveBtn;var stateCanSelect=false;function gotoCountrySelect(){var a={action:{name:\"/card/wkSelectCountry\",loadtxt:\"\"}};document.asyncSubmit(a,function(b){if(b.pageloading===\"1\"){getTag(\"countryArrowRightPng\").src=amc.res.indicator}else{if(b.pageloading===\"0\"){getTag(\"countryArrowRightPng\").src=amc.res.arrowRight}}});getTag(\"countryArrowRightPng\").src=amc.res.indicator}function gotoStateSelect(){if(stateCanSelect){document.submit({action:{name:\"/card/wkSelectState\"}})}}function checkinput(){var b=true;var a=document.querySelectorAll(\"input\");for(var c=0;c<a.length;c++){if(a[c].value===\"\"&&a[c].disabled===false){b=false;break}}if(getTag(\"country\").innerText===\"\"){b=false}if(saveBtn){if(b){saveBtn.style.color=\"#108ee9\"}else{saveBtn.style.color=\"#999\"}}return b}function checkData(){var b=getTag(\"tel\");if(b.disabled==false){var d=\"^.{6,20}$\";var c=b.value;var a=c.match(d);if(a==undefined){document.toast({text:\"{{phone_notice}}\",type:\"fail\"},function(){b.focus()});return false}}return true}function onSave(){var b=checkinput();if(!b){return}b=checkData();if(b==false){return}var e={action:{name:\"/card/wkSaveBillAddress\"}};var d={};var a=document.querySelectorAll(\"input\");for(var c=0;c<a.length;c++){if(a[c].value!=\"\"){d[a[c].id]=a[c].value}}e.param=d;document.submit(e)}function onBack(){var a={action:{name:\"/card/wkSaveBillAddress\"}};a.action[\"params\"]={};a.action[\"params\"][\"call_back\"]=true;document.submit(a)}function init(){try{initUI();if(amc.fn.logPageInit){amc.fn.logPageInit(true)}}catch(a){if(amc.fn.logPageInit){amc.fn.logPageInit()}}}function initUI(){var d=amc.fn.navBack(true,\"{{bill_address}}\",\"{{save}}\",null,onBack,onSave);getTag(\"body\").insertBefore(d,getTag(\"mainBody\"));saveBtn=getTag(\"navTxtR\");getTag(\"countryArrowRightPng\").src=amc.res.arrowRight;getTag(\"stateArrowRightPng\").src=amc.res.arrowRight;getTag(\"country\").innerText=amc.rpcData.wkselectcountry||\"\";for(var b=0;b<amc.rpcData.wkaddressform.length;b++){var c=amc.rpcData.wkaddressform[b];var a=c.name;if(a==\"state_name\"){show(\"state_area\");if(c.arrow){if(c.value){getTag(\"stateText\").innerText=c.value}hide(\"state_name\");stateCanSelect=true}else{if(c.value){getTag(\"state_name\").value=c.value}hide(\"stateArrowRightPng\");getTag(\"state_name\").disabled=false}}else{if(a==\"city_name\"){show(\"city_area\");if(c.value){getTag(\"city_name\").value=c.value}getTag(\"city_name\").disabled=false}else{if(a==\"address\"){show(\"addressArea\");if(c.value){getTag(\"address\").value=c.value}getTag(\"address\").disabled=false}else{if(a==\"post_code\"){show(\"postCodeArea\");if(c.value){getTag(\"post_code\").value=c.value}getTag(\"post_code\").disabled=false}else{if(a==\"tel\"){show(\"tel_area\");if(c.value){getTag(\"tel\").value=c.value}getTag(\"tel\").disabled=false}}}}}}checkinput()}function onKeyDown(){if(event.which==4){onBack()}};","tag":"text"}]}]},{"id":"body","onload":"init()","tag":"body","children":[{"id":"mainBody","tag":"div","children":[{"tag":"div","css":"amc-1px-line"},{},{"tag":"div","children":[{"tag":"div","children":[{"tag":"label","children":[{"text":"{{country_area}}","tag":"text"}],"css":"amc-cell-l-text amc-flex-1 amc-flex-1 amc-ellipsis-2-line"}],"css":"amc-cell-l-box amc-margin-r-xs"},{"tag":"div","children":[{"id":"country","tag":"label","css":"amc-cell-l-text"}],"css":"amc-item-m-box"},{"id":"countryArrowRightPng","tag":"img"}],"onclick":"gotoCountrySelect()","css":"amc-cell amc-pd-lr"},{"tag":"div","css":"amc-1px-line"},{},{"id":"state_area","tag":"div","children":[{"tag":"div","children":[{"tag":"div","children":[{"tag":"label","children":[{"text":"{{state_province}}","tag":"text"}],"css":"amc-cell-l-text amc-flex-1 amc-flex-1 amc-ellipsis-2-line"}],"css":"amc-cell-l-box amc-margin-r-xs"},{"tag":"div","children":[{"id":"stateText","tag":"label","css":"amc-cell-l-text"},{"id":"state_name","placeholder":"{{please_input}}","tag":"input","value":"","css":"amc-input","disabled":"true","oninput":"checkinput()"}],"css":"amc-item-m-box"},{"id":"stateArrowRightPng","tag":"img","css":"amc-cell-r-img"}],"css":"amc-cell amc-pd-lr"},{"tag":"div","css":"amc-1px-line"}],"onclick":"gotoStateSelect()","css":"amc-hidden amc-v-box"},{},{"id":"city_area","tag":"div","children":[{"tag":"div","children":[{"tag":"div","children":[{"tag":"label","children":[{"text":"{{city}}","tag":"text"}],"css":"amc-cell-l-text amc-flex-1 amc-ellipsis-2-line"}],"css":"amc-cell-l-box amc-margin-r-xs"},{"tag":"div","children":[{"id":"city_name","placeholder":"{{please_input}}","tag":"input","value":"","css":"amc-input","disabled":"true","oninput":"checkinput()"}],"css":"amc-item-m-box"}],"css":"amc-cell amc-pd-lr"},{"tag":"div","css":"amc-1px-line"}],"css":"amc-hidden amc-v-box"},{},{"id":"addressArea","tag":"div","children":[{"tag":"div","children":[{"tag":"div","children":[{"tag":"label","children":[{"text":"{{address}}","tag":"text"}],"css":"amc-cell-l-text  amc-flex-1 amc-ellipsis-2-line"}],"css":"amc-cell-l-box amc-margin-r-xs"},{"tag":"div","children":[{"id":"address","placeholder":"{{please_input}}","tag":"input","value":"","css":"amc-input","disabled":"true","oninput":"checkinput()"}],"css":"amc-item-m-box"}],"css":"amc-cell amc-pd-lr"},{"tag":"div","css":"amc-1px-line"}],"css":"amc-hidden amc-v-box"},{},{"id":"postCodeArea","tag":"div","children":[{"tag":"div","children":[{"tag":"div","children":[{"tag":"label","children":[{"text":"{{mail}}","tag":"text"}],"css":"amc-cell-l-text amc-flex-1 amc-ellipsis-2-line"}],"css":"amc-cell-l-box amc-margin-r-xs"},{"tag":"div","children":[{"id":"post_code","placeholder":"{{please_input}}","tag":"input","value":"","css":"amc-input","disabled":"true","oninput":"checkinput()"}],"css":"amc-item-m-box"}],"css":"amc-cell amc-pd-lr"},{"tag":"div","css":"amc-1px-line"}],"css":"amc-hidden amc-v-box"},{},{"id":"tel_area","tag":"div","children":[{"tag":"div","children":[{"tag":"div","children":[{"tag":"label","children":[{"text":"{{phone_text}}","tag":"text"}],"css":"amc-cell-l-text  amc-flex-1 amc-ellipsis-2-line"}],"css":"amc-cell-l-box amc-margin-r-xs"},{"tag":"div","children":[{"id":"tel","placeholder":"{{please_input}}","tag":"input","value":"","css":"amc-input","disabled":"true","oninput":"checkinput()"}],"css":"amc-item-m-box"}],"css":"amc-cell amc-pd-lr"},{"tag":"div","css":"amc-1px-line"}],"css":"amc-hidden amc-v-box"},{"tag":"div","css":"amc-abs-space-v-l"}],"css":"amc-main amc-scroll-android"}],"onkeydown":"onKeyDown();","css":"amc-body"}]},"format":"JSON","tplVersion":"5.0.8"}