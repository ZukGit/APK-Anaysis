{"time":"0002","tplId":"QUICKPAY@waika-select-country-and-area-flex","publishVersion":"150924","tag":"QUICKPAY","name":"waika-select-country-and-area-flex","data":{"tag":"html","children":[{"tag":"head","children":[{"tag":"meta","src":"AlipaySDK.bundle/amc.i18n","type":"i18n"},{"tag":"link","rel":"stylesheet","href":"AlipaySDK.bundle/amc.css"},{"tag":"script","src":"AlipaySDK.bundle/amc.js"},{"tag":"script","children":[{"text":"var getTag=amc.fn.getById;var create=amc.fn.create;var bodyHeight=0;var indexArray=new Array();var indexHeightArray=new Array();var indexHeight=amc.isPlus?24:18;var headerHeight=amc.isPlus?30:22;var cellHeight=amc.isPlus?56:43;var lineHeight=amc.isPlus?0.33:0.5;var isTouchHold=false;var offsetTop=0;var maxCellWidth=window.innerWidth-60;function init(){try{initUI();if(amc.fn.logPageInit){amc.fn.logPageInit(true)}}catch(a){if(amc.fn.logPageInit){amc.fn.logPageInit()}}}function initUI(){var e=amc.fn.getNav(amc.res.navBack,\"{{return}}\",\"{{sel_country_area}}\",null,null,onBack,null);getTag(\"body\").insertBefore(e,getTag(\"mainBox\"));if(flybird.rpcData.countries){for(var b=0;b<flybird.rpcData.countries.length;b++){createItem(flybird.rpcData.countries[b])}var d=getTag(\"mainIndex\");for(var b=0;b<indexArray.length;b++){var a=create(\"div\");a.className=\"amc-index-box\";d.appendChild(a);var c=create(\"label\");c.className=\"amc-index-label amc-theme-color\";c.innerText=indexArray[b]||\"\";a.appendChild(c);(function(){var f=b;c.onclick=function(){scrollToIndex(f)}})()}offsetTop=(amc.specs.bodyHeight-indexArray.length*indexHeight)/2;if(!amc.isIOS){offsetTop+=amc.specs.navHeight}getTag(\"mainBody\").style.height=amc.specs.bodyHeight;getTag(\"mainIndex\").style.height=(indexHeight*indexArray.length)}}function scrollToIndex(a){if(a>=0&&a<indexArray.length){getTag(\"mainBody\").scrollTop=indexHeightArray[a]}}function touchDown(){var b=event.y;b-=offsetTop;var a=Math.floor(b/indexHeight);scrollToIndex(a);isTouchHold=true}function touchUp(){isTouchHold=false}function touchMove(){if(isTouchHold){var b=event.y;b-=offsetTop;var a=Math.floor(b/indexHeight);scrollToIndex(a)}}function createItem(h){var b=getTag(\"listBox\");indexHeightArray.push(bodyHeight);var a=create(\"div\");a.className=\"amc-list-header-h\";b.appendChild(a);var g=create(\"label\");g.className=\"amc-font-m amc-text-light-color\";g.innerText=h.label||\"\";a.appendChild(g);bodyHeight+=headerHeight;for(var f=0;f<h.countries.length;f++){var j=create(\"div\");j.className=\"amc-cell amc-pd-lr\";b.appendChild(j);var c=h.countries[f];j.value=c.code+\"|\"+c.name;j.onclick=function(){var m={};m.action={};m.action[\"name\"]=\"/card/wkSetBillAddress\";var l={};var i=event.currentTarget.value;var n=i.split(\"|\");l.nationality=n[0];l.nationality_name=n[1];l.from_select=\"true\";m.param=l;document.submit(m)};var e=create(\"label\");e.className=\"amc-font-m amc-ellipsis\";e.innerText=h.countries[f].name||\"\";e.style.maxWidth=maxCellWidth;j.appendChild(e);var d=create(\"div\");d.className=\"amc-v-box-center\";j.appendChild(d);bodyHeight+=cellHeight;if(f<h.countries.length-1){var k=create(\"div\");k.className=\"amc-1px-line amc-margin-l\";b.appendChild(k);bodyHeight+=lineHeight}}indexArray.push(h.label)}function onBack(){amc.fn.back()}function onKeyDown(){if(event.which==4){onBack()}};","tag":"text"}]},{"tag":"style","children":[{"text":".amc-nav-r-box {\n    display: none;\n}","tag":"text"}]}]},{"id":"body","onload":"init()","tag":"body","children":[{"id":"mainBox","tag":"div","children":[{"id":"mainBody","tag":"div","children":[{"id":"listBox","tag":"div","css":"amc-v-box"},{"tag":"div","css":"amc-iphone-x-pd-b"}],"css":"amc-scroll-flex"},{"id":"mainIndex","onmousemove":"touchMove()","tag":"div","onmouseup":"touchUp()","onmousedown":"touchDown()","css":"amc-index-container"}],"css":"amc-align-center"}],"onkeydown":"onKeyDown();","css":"amc-body amc-bg-white"}]},"format":"JSON","tplVersion":"5.2.4"}