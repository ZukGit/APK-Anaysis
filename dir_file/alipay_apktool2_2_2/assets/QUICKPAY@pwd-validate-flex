{"time":"0012","tplId":"QUICKPAY@pwd-validate-flex","publishVersion":"150924","tag":"QUICKPAY","name":"pwd-validate-flex","data":{"tag":"html","children":[{"tag":"head","children":[{"tag":"meta","src":"AlipaySDK.bundle/amc.i18n","type":"i18n"},{"tag":"script","src":"AlipaySDK.bundle/amc.js"},{"tag":"link","rel":"stylesheet","href":"AlipaySDK.bundle/amc.css"},{"tag":"script","children":[{"text":"var rpc=amc.rpcData;var hide=amc.fn.hide;var show=amc.fn.show;var getTag=amc.fn.getById;var wearablePayTip=null;var pageType=rpc.pwdValidateType||\"openService\";var fingerPay=rpc.fingerPay||false;if(rpc.AndroidFingerStatus===\"1\"){fingerPay=false}var thirdPay=fingerPay||rpc.braceletPay||rpc.wearablePay;var wearablePayNewMode=!!(rpc.nWmode);function init(){try{initUI();if(amc.fn.logPageInit){amc.fn.logPageInit(true)}}catch(a){if(amc.fn.logPageInit){amc.fn.logPageInit()}}}function initUI(){var c=\"{{id_validate}}\";if(pageType===\"newCard\"){c=\"{{add_card}}\";getTag(\"tips\").innerText=\"{{pwd_add_card}}\"}else{if(pageType===\"openService\"){getTag(\"tips\").innerText=\"{{pwd_id_validate}}\"}}var b=amc.fn.getNav(amc.res.navBack,\"{{return}}\",c,null,null,onBack,null);getTag(\"body\").insertBefore(b,getTag(\"mainBody\"));getTag(\"mainBody\").style.height=amc.specs.bodyHeight;if(thirdPay){hide(\"mainBody\");var a={action:{name:amc.rpcData.authAction}};submitObj={nativeValidate:true};if(wearablePayNewMode){a.action.loadtxt=\"\";submitObj.newMode=true}a.param=submitObj;document.asyncSubmit(a,function(e){var d=e.status&&e.status.substr(-2);if(d===\"04\"||d===\"05\"){document.submit({action:{name:\"loc:continue;loc:swload('time=0')\"}});wearablePayTip=e.tip;thirdPay=false;show(\"mainBody\");showPwdBox()}else{if(e.status===\"0009\"){if(rpc.backAct===\"exit\"){amc.fn.exit()}else{if(e.pageloading===undefined){amc.fn.back()}}}else{if(e.status===\"0003\"){document.submit({action:{name:\"loc:continue;loc:swload('status=loading')\"}})}else{if(e.status===\"0001\"){document.submit({action:{name:\"loc:continue;loc:swload('time=0')\"}})}else{if(e.status===\"0002\"){document.submit({action:{name:\"loc:continue;loc:swload('time=0')\"}})}}}}}})}else{showPwdBox()}}function showPwdBox(){if(wearablePayTip){getTag(\"tips\").innerText=wearablePayTip;wearablePayTip=null}if(amc.rpcData.spasswordPay){hide(\"password\");hide(\"payBtn\");show(\"spassword\");getTag(\"spwd\").focus()}else{hide(\"spassword\");show(\"password\");getTag(\"pwd\").focus()}}function onSpwdInput(){var c=getTag(\"spwd\");if(c.value.length>=6){var b=c.value||\"\";var a={spwd:b};a.encryptType=\"RSA\";var d={};d.param=a;submitPpay(c,d)}}function onPwdInput(){var b=getTag(\"pwd\");var a=b.value;getTag(\"payBtn\").disabled=!(a.length>0)}function onPasswordPay(){var d=getTag(\"pwd\");var a=d.value;if(a.length>0){var b={};b.pwd=a;b.encryptType=\"RSA\";var c={};c.param=b;submitPpay(d,c)}}function submitPpay(b,a){a.action={};a.action[\"name\"]=amc.rpcData.nextAction;a.action[\"params\"]=amc.rpcData.params;document.asyncSubmit(a,function(d){var c=d.status;if(c&&c!==\"0001\"){b.value=\"\";b.focus();if(!amc.rpcData.spasswordPay){getTag(\"payBtn\").disabled=true}}});b.blur()}function onBack(){if(rpc.backAct===\"exit\"){amc.fn.exitConfirm();return}else{document.submit({action:{name:\"loc:back\"}})}}function forgetPwd(){var b=\"\";if(rpc.logon_id){b=\"&loginId=\"+rpc.logon_id}var a=\"alipays://platformapi/startApp?appId=20000013&pwdType=phonePassword\"+b;document.submit({action:{name:\"loc:openurl('\"+a+\"','0')\"}})}function onKeyDown(){if(event.which==4){onBack()}};","tag":"text"}]},{"tag":"style","children":[{"text":".info-label {\n    -webkit-line-clamp:5;\n    -webkit-box-orient:vertical;\n    display:-webkit-box;\n}\n\n.pd {\n    padding: 15px;\n}\n.pwd {\n    border: 1PX #979797 solid;\n    border-radius: 4px;\n    height: 47px;\n    min-height: 47px;\n    max-height: 47px;\n    background-color: #fff;\n    overflow: hidden;\n    flex: 1.0;\n    align-items: center;\n}\n\n.input-margin {\n    margin-right: 10px;\n}\n\n.font-m {\n    font-size: 17px;\n}\n\n.tip-box {\n    margin-top: 30px;\n}\n\n.pwd-box {\n    margin-top: 30px;\n    margin-bottom: 15px;\n}\n\n.font-s {\n    font-size: 16px;\n}","tag":"text"}]}]},{"id":"body","onload":"init()","tag":"body","children":[{"id":"mainBody","tag":"div","children":[{"tag":"div","children":[{"id":"tips","tag":"label","children":[{"text":"{{pwd_id_validate}}","tag":"text"}],"css":"font-m amc-flex-1 info-label amc-text-center"}],"css":"amc-align-center tip-box"},{"id":"pwdBox","tag":"div","children":[{"id":"password","tag":"div","children":[{"tag":"div","children":[{"tag":"div","css":"amc-abs-space-h-m"},{"id":"pwd","placeholder":"{{alipaypwd}}","tag":"embed","value":"","src":"paypwd","type":"MQPPayPwdView","css":"amc-input input-margin amc-spwd-height","oninput":"onPwdInput()"}],"css":"amc-cell-m-box"}],"css":"pwd amc-justify-center"},{"id":"spassword","tag":"div","children":[{"id":"spwd","tag":"embed","value":"","src":"payspwd","type":"MQPPayPwdView","css":"amc-pwd-input amc-spwd-height","oninput":"onSpwdInput()"}],"css":"amc-spwd-box"}],"css":"pwd-box amc-v-box"},{},{"tag":"div","children":[{"tag":"label","children":[{"text":"{{forget_pwd}}","tag":"text"}],"onclick":"forgetPwd()","css":"amc-text-right amc-theme-color amc-flex-1 amc-ellipsis-2-line font-s"}],"css":"amc-pd-l amc-pd-b"},{"id":"payBtn","tag":"button","children":[{"text":"{{next}}","tag":"text"}],"onclick":"onPasswordPay()","css":"amc-btn-primary","disabled":"disabled"}],"css":"amc-main amc-pd-lr amc-bg-white"}],"onkeydown":"onKeyDown();","css":"amc-body"}]},"format":"JSON","tplVersion":"5.1.5"}